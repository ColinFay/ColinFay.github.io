<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2019-09-26T20:05:23+02:00</updated><id>http://localhost:4000/</id><title type="html">Colin Fay</title><subtitle>Mostly R, data, and code.</subtitle><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><entry><title type="html">JavaScript const in R</title><link href="http://localhost:4000/js-const-r/" rel="alternate" type="text/html" title="JavaScript const in R" /><published>2019-09-23T00:00:00+02:00</published><updated>2019-09-23T00:00:00+02:00</updated><id>http://localhost:4000/js-const-r</id><content type="html" xml:base="http://localhost:4000/js-const-r/">&lt;p&gt;One thing I like about JavaScript is the &lt;code class=&quot;highlighter-rouge&quot;&gt;const&lt;/code&gt; declaration method,
which allows you to declare a variable one time, and that variable can’t
be reassigned after that. I.e, this piece of code will throw an error:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;node &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;const x = 12; x  = 14&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [eval]:1
## const x = 12; x  = 14
##                  ^
## 
## TypeError: Assignment to constant variable.
##     at [eval]:1:18
##     at Script.runInThisContext (vm.js:124:20)
##     at Object.runInThisContext (vm.js:314:38)
##     at Object.&amp;lt;anonymous&amp;gt; ([eval]-wrapper:9:26)
##     at Module._compile (internal/modules/cjs/loader.js:805:30)
##     at evalScript (internal/process/execution.js:60:25)
##     at internal/main/eval_string.js:16:1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The cool thing about this is that you can’t override the variable by
mistake: once it’s set, it’s set. On the other hand, R allows you to
override almost any variable (well, except some reserved variables).&lt;/p&gt;

&lt;p&gt;I asked Twitter if there was any implementation of that concept in R.
The use case, for example, would arise when you have a value that takes
some time to compute. If I do my computation, I can accidentally
override it later on. Event more if you’re using notebook, where you
create symbols and values all along your document.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;some_very_complex_computation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# [...] Going on the weekend&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello there!&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, I have no way to prevent myself from erasing the value in &lt;code class=&quot;highlighter-rouge&quot;&gt;a&lt;/code&gt;. Of
course, there are always rigor, explicit variable name, and
not-assigning-things-without-thinking but you know how it is in the real
world, and there is no Cmd + Z there.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/romain_francois/status/1176092011084046336&quot;&gt;Romain&lt;/a&gt;
pointed out that &lt;code class=&quot;highlighter-rouge&quot;&gt;?lockBinding&lt;/code&gt; existed, and that it was what I was
looking for. And that does.&lt;/p&gt;

&lt;p&gt;Here’s how it works: it takes a character string referring to a symbol,
and an environment, and prevents from assigning any new value to this
symbol in the given environment.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lockBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.GlobalEnv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And here’s a small wrapper to do that:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lockBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deparse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;substitute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parent.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'plop'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pouet&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plop&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pouet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 14

## Error in pouet(): cannot change value of locked binding for 'plop'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So there I could do&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;some_very_complex_computation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# [...] Going on the weekend&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello there!&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And there, I have prevented myself from erasing my &lt;code class=&quot;highlighter-rouge&quot;&gt;a&lt;/code&gt; variable. Of
course, it’s not the same as JavaScript &lt;code class=&quot;highlighter-rouge&quot;&gt;const&lt;/code&gt;, as there is always a
way to unlock the
    symbol.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;unlockBinding&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.GlobalEnv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But I think it’s a rather elegant solution for preventing yourself from
unwanted variable overwriting.&lt;/p&gt;

&lt;p&gt;See also:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://iqis.netlify.com/post/2019/07/22/how-to-make-a-constant-in-r/&quot;&gt;Make a Constant in R with Active
Binding&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some answers to the Twitter thread also suggested using R6… but that
will be for another post :)&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">One thing I like about JavaScript is the const declaration method, which allows you to declare a variable one time, and that variable can’t be reassigned after that. I.e, this piece of code will throw an error: node -e &quot;const x = 12; x = 14&quot; ## [eval]:1 ## const x = 12; x = 14 ## ^ ## ## TypeError: Assignment to constant variable. ## at [eval]:1:18 ## at Script.runInThisContext (vm.js:124:20) ## at Object.runInThisContext (vm.js:314:38) ## at Object.&amp;lt;anonymous&amp;gt; ([eval]-wrapper:9:26) ## at Module._compile (internal/modules/cjs/loader.js:805:30) ## at evalScript (internal/process/execution.js:60:25) ## at internal/main/eval_string.js:16:1 The cool thing about this is that you can’t override the variable by mistake: once it’s set, it’s set. On the other hand, R allows you to override almost any variable (well, except some reserved variables). I asked Twitter if there was any implementation of that concept in R. The use case, for example, would arise when you have a value that takes some time to compute. If I do my computation, I can accidentally override it later on. Event more if you’re using notebook, where you create symbols and values all along your document. a &amp;lt;- some_very_complex_computation() # [...] Going on the weekend a &amp;lt;- &quot;Hello there!&quot; Here, I have no way to prevent myself from erasing the value in a. Of course, there are always rigor, explicit variable name, and not-assigning-things-without-thinking but you know how it is in the real world, and there is no Cmd + Z there. Romain pointed out that ?lockBinding existed, and that it was what I was looking for. And that does. Here’s how it works: it takes a character string referring to a symbol, and an environment, and prevents from assigning any new value to this symbol in the given environment. x &amp;lt;- 12 lockBinding(&quot;x&quot;, .GlobalEnv) x &amp;lt;- 13 ## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x' And here’s a small wrapper to do that: lock &amp;lt;- function(x){ lockBinding( deparse( substitute(x)), env = parent.frame() ) } plop &amp;lt;- 12 lock(plop) plop &amp;lt;- 13 ## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'plop' pouet &amp;lt;- function(){ plop &amp;lt;- 14 print(plop) lock(plop) plop &amp;lt;- 13 } pouet() ## [1] 14 ## Error in pouet(): cannot change value of locked binding for 'plop' So there I could do a &amp;lt;- some_very_complex_computation() lock(a) # [...] Going on the weekend a &amp;lt;- &quot;Hello there!&quot; And there, I have prevented myself from erasing my a variable. Of course, it’s not the same as JavaScript const, as there is always a way to unlock the symbol. x &amp;lt;- 12 ## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x' lock(x) x &amp;lt;- 13 ## Error in eval(expr, envir, enclos): cannot change value of locked binding for 'x' unlockBinding(&quot;x&quot;, .GlobalEnv) x &amp;lt;- 13 x ## [1] 13 But I think it’s a rather elegant solution for preventing yourself from unwanted variable overwriting. See also: Make a Constant in R with Active Binding Some answers to the Twitter thread also suggested using R6… but that will be for another post :)</summary></entry><entry><title type="html">One week as a Shiny dev, seen through Google search</title><link href="http://localhost:4000/one-week-shiny-google-search/" rel="alternate" type="text/html" title="One week as a Shiny dev, seen through Google search" /><published>2019-09-06T00:00:00+02:00</published><updated>2019-09-06T00:00:00+02:00</updated><id>http://localhost:4000/what-search-google</id><content type="html" xml:base="http://localhost:4000/one-week-shiny-google-search/">&lt;p&gt;Some days ago I read an article on &lt;a href=&quot;https://dev.to/&quot;&gt;dev.to&lt;/a&gt;, entitled
something like “Googling as a Software Engineer”
&lt;a href=&quot;https://dev.to/bamboriz/googling-as-a-software-engineer-3a1n&quot;&gt;link&lt;/a&gt;
which links to &lt;a href=&quot;https://localghost.dev/2019/09/everything-i-googled-in-a-week-as-a-professional-software-engineer/&quot;&gt;this
blogpost&lt;/a&gt;
from Sophie Koonin. And then, I thought… hey, I should do that too!&lt;/p&gt;

&lt;h2 id=&quot;getting-the-data&quot;&gt;Getting the data&lt;/h2&gt;

&lt;p&gt;You can download your browser data at
&lt;a href=&quot;https://takeout.google.com/&quot;&gt;takeout.google.com/&lt;/a&gt;. In a matter of
minutes, I had a beautiful JSON which I could bring back in
R.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jsonlite&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/Downloads/Takeout/Chrome/BrowserHistory.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;magrittr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbindlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setDT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Classes 'data.table' and 'data.frame':   175321 obs. of  6 variables:
##  $ favicon_url    : chr  &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; ...
##  $ page_transition: chr  &quot;LINK&quot; &quot;LINK&quot; &quot;LINK&quot; &quot;LINK&quot; ...
##  $ title          : chr  &quot;Télécharger vos données&quot; &quot;Gérer les archives&quot; &quot;Télécharger vos données&quot; &quot;Télécharger vos données&quot; ...
##  $ url            : chr  &quot;https://takeout.google.com/settings/takeout&quot; &quot;https://takeout.google.com/settings/takeout/downloads&quot; &quot;https://takeout.google.com/settings/takeout&quot; &quot;https://takeout.google.com/?pli=1&quot; ...
##  $ client_id      : chr  &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; ...
##  $ time_usec      : num  1.57e+15 1.57e+15 1.57e+15 1.57e+15 1.57e+15 ...
##  - attr(*, &quot;.internal.selfref&quot;)=&amp;lt;externalptr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First thing first, get the data from last week.&lt;/p&gt;

&lt;p&gt;What about this weird time column?&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##           time_usec
## 1: 1567623891808102
## 2: 1567623890295210
## 3: 1567623886825938
## 4: 1567623866374017
## 5: 1567623864604245
## 6: 1567623851481596
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When seeing these numbers, one thinks of &lt;a href=&quot;https://en.wikipedia.org/wiki/Unix_time&quot;&gt;Unix
timestamp&lt;/a&gt;, which is &lt;em&gt;“the
number of seconds that have elapsed since 00:00:00 Thursday, 1 January
1970”&lt;/em&gt;.
So…&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;origin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1970-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##                  time_usec
## 1: 49677993-08-02 03:48:22
## 2: 49677993-07-15 15:33:30
## 3: 49677993-06-05 11:52:18
## 4: 49677992-10-11 18:46:57
## 5: 49677992-09-21 07:10:45
## 6: 49677992-04-22 09:59:56
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Well, unless I’ve been trapped in a weird time machine or that episode
of Game of Thrones was very, very long, I don’t remember being in year
&lt;code class=&quot;highlighter-rouge&quot;&gt;49677993&lt;/code&gt; :)&lt;/p&gt;

&lt;p&gt;I have no idea why this number are that long: if we look at today’s
date, we’ve got a UNIX time stamp of&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sys.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 1568038038
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# versus&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;1567623891808102&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Today’s UNIX date, which has a step of one second, is a 10 digits long
number. The time stamp in this dataset are 16 digits longs. But we can
also notice that the 10 first digits of both are relatively close:
&lt;code class=&quot;highlighter-rouge&quot;&gt;156780&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;156762&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;My guess so far is that the data are in microseconds, as one microsecond
is &lt;code class=&quot;highlighter-rouge&quot;&gt;1e-6&lt;/code&gt; second. Let’s give this a
shot:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1e6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;origin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1970-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)][,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;2019-09-04 21:04:51 CEST&quot; &quot;2019-09-04 21:04:50 CEST&quot;
## [3] &quot;2019-09-04 21:04:46 CEST&quot; &quot;2019-09-04 21:04:26 CEST&quot;
## [5] &quot;2019-09-04 21:04:24 CEST&quot; &quot;2019-09-04 21:04:11 CEST&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;AH! That looks better! Let’s filter and turn the title to lowercase.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anytime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anytime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2019-08-25&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anytime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2019-09-02&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tite&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s now filter only the Google search:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;www.google.com/search&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And count the number of search by day:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time_usec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Search by day of the week (Monday to Sunday)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Day of the week&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/searchweek-1.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;h2 id=&quot;some-extracts&quot;&gt;Some extracts&lt;/h2&gt;

&lt;p&gt;Let’s now have a look at some of the search terms:&lt;/p&gt;

&lt;h3 id=&quot;shiny&quot;&gt;Shiny&lt;/h3&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shiny&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; - Recherche Google&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##  [1] &quot;suspend an observe event in shiny&quot;         
##  [2] &quot;create a new shiny app from command line&quot;  
##  [3] &quot;shiny flush react&quot;                         
##  [4] &quot;shiny delete input binding&quot;                
##  [5] &quot;shiny delete an input binding from ui side&quot;
##  [6] &quot;shiny dashboard link to a specific tab&quot;    
##  [7] &quot;remove input value shiny r&quot;                
##  [8] &quot;remove input value shiny&quot;                  
##  [9] &quot;log everything shiny does&quot;                 
## [10] &quot;shiny .graphDependsOnId&quot;                   
## [11] &quot;date picker widget shiny&quot;                  
## [12] &quot;jquery datepicker shiny&quot;                   
## [13] &quot;shiny daterangeinput end before finish&quot;    
## [14] &quot;shiny date range input&quot;                    
## [15] &quot;shinyapps io&quot;                              
## [16] &quot;dreal shiny apps&quot;                          
## [17] &quot;shinyexample&quot;                              
## [18] &quot;daterangeinput shiny end superior to start&quot;
## [19] &quot;shiny date range&quot;                          
## [20] &quot;shiny date picker&quot;                         
## [21] &quot;shiny DT disablee row name&quot;                
## [22] &quot;shiny jqui&quot;                                
## [23] &quot;shiny jsqui&quot;                               
## [24] &quot;option shiny browser viwer&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can note that:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;I can never remember how to set which Viewer Shiny uses&lt;/li&gt;
  &lt;li&gt;I had trouble with Shiny dateRangeInput being able to &lt;a href=&quot;https://github.com/rstudio/shiny/issues/2043&quot;&gt;end before
start&lt;/a&gt; and tried to
see for other alternative.&lt;/li&gt;
  &lt;li&gt;Also, this weird one, where I saved some reactiveValue to a MongoDB
storage, and when I tried to reuse them, I had an error about the
&lt;code class=&quot;highlighter-rouge&quot;&gt;.graphDependsOnId&lt;/code&gt; function not found. Turns out it’s an &lt;a href=&quot;https://rdrr.io/github/ymd526442121/Rproject_shiny/src/R/graph.R&quot;&gt;old Shiny
function&lt;/a&gt;,
which might have been saved in the RDS saved in the mongo DB (well,
that’s my guess). My solution was to take this piece of code from
the source and put it back in my app.&lt;/li&gt;
  &lt;li&gt;I had some trouble with the behavior of a restarting app and the
&lt;code class=&quot;highlighter-rouge&quot;&gt;removeUI&lt;/code&gt; function, which in fact does not &lt;a href=&quot;https://github.com/rstudio/shiny/issues/2374&quot;&gt;remove the input
value&lt;/a&gt;. Also, it’s
interesting to note that some input are not fully restored when
restarting the app with Firefox, so I wanted to look for a way to
(really) delete input from the JS side (unsuccessfully so far).&lt;/li&gt;
  &lt;li&gt;I also wondered if there was a kind of &lt;code class=&quot;highlighter-rouge&quot;&gt;shiny::createApp()&lt;/code&gt;, which
creates a file with the app skeleton in it. When you use the RStudio
interface for creating app, you’ve got an app skeleton. That must be
somewhere.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;r&quot;&gt;R&lt;/h3&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; r &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; - Recherche Google&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;remove input value shiny r&quot;             
## [2] &quot;whereami r package&quot;                     
## [3] &quot;wherami r package&quot;                      
## [4] &quot;fs r package&quot;                           
## [5] &quot;docopt r&quot;                               
## [6] &quot;insert page break in pagedown r pacakge&quot;
## [7] &quot;new page in pagedown r pacakge&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nop, still can’t remember how to insert a page break in &lt;code class=&quot;highlighter-rouge&quot;&gt;{pagedown}&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Also, still can’t write “package” correctly.&lt;/p&gt;

&lt;h3 id=&quot;javascript&quot;&gt;JavaScript&lt;/h3&gt;

&lt;p&gt;Yes, being a Shiny developer means you do a significant amount of
JavaScript / jQuery.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;javascript|jquery&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; - Recherche Google&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##  [1] &quot;change variable evaluation environment in javascript&quot;
##  [2] &quot;environment in javascript&quot;                           
##  [3] &quot;comafy javascript&quot;                                   
##  [4] &quot;jquery parent&quot;                                       
##  [5] &quot;find element with data attribute jquery&quot;             
##  [6] &quot;javascript function&quot;                                 
##  [7] &quot;confirmation pop up in javascript&quot;                   
##  [8] &quot;function in javascript&quot;                              
##  [9] &quot;javascript void&quot;                                     
## [10] &quot;non standard evaluation in javascript&quot;               
## [11] &quot;list all variables javascript&quot;                       
## [12] &quot;javascript reload page and launch a function&quot;        
## [13] &quot;javascript fin anywhere in object&quot;                   
## [14] &quot;get class of javascript object&quot;                      
## [15] &quot;get class of element jquery&quot;                         
## [16] &quot;add onclick event jquery&quot;                            
## [17] &quot;jquery datepicker shiny&quot;                             
## [18] &quot;jquery launch function on div change&quot;                
## [19] &quot;jquery extract id of all children&quot;                   
## [20] &quot;javascript for loop&quot;                                 
## [21] &quot;jquery drag and drop&quot;                                
## [22] &quot;reorder list javascript&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s admit that:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;I can never remember the correct syntax for for loops in JavaScript.
Like, ever. I always try &lt;code class=&quot;highlighter-rouge&quot;&gt;for (var i, i &amp;lt; x.length, i++)&lt;/code&gt;. That’s
&lt;code class=&quot;highlighter-rouge&quot;&gt;;&lt;/code&gt;, Colin, maybe writing it there will make me remember :)&lt;/li&gt;
  &lt;li&gt;The “find anywhere in object” and JavaScript launch and reload were
still linked to my refresh input in Shiny issue.&lt;/li&gt;
  &lt;li&gt;And apparently it’s more complicated than I had expected to play
with symbols and environment in JavaScript&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">Some days ago I read an article on dev.to, entitled something like “Googling as a Software Engineer” link which links to this blogpost from Sophie Koonin. And then, I thought… hey, I should do that too! Getting the data You can download your browser data at takeout.google.com/. In a matter of minutes, I had a beautiful JSON which I could bring back in R. res &amp;lt;- jsonlite::read_json(&quot;~/Downloads/Takeout/Chrome/BrowserHistory.json&quot;) library(data.table) library(magrittr) df &amp;lt;- rbindlist(res[[1]], fill = TRUE) setDT(df) str(df) ## Classes 'data.table' and 'data.frame': 175321 obs. of 6 variables: ## $ favicon_url : chr &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; &quot;https://www.google.com/favicon.ico&quot; ... ## $ page_transition: chr &quot;LINK&quot; &quot;LINK&quot; &quot;LINK&quot; &quot;LINK&quot; ... ## $ title : chr &quot;Télécharger vos données&quot; &quot;Gérer les archives&quot; &quot;Télécharger vos données&quot; &quot;Télécharger vos données&quot; ... ## $ url : chr &quot;https://takeout.google.com/settings/takeout&quot; &quot;https://takeout.google.com/settings/takeout/downloads&quot; &quot;https://takeout.google.com/settings/takeout&quot; &quot;https://takeout.google.com/?pli=1&quot; ... ## $ client_id : chr &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; &quot;slOska0n/CmNUGlceIGQVQ==&quot; ... ## $ time_usec : num 1.57e+15 1.57e+15 1.57e+15 1.57e+15 1.57e+15 ... ## - attr(*, &quot;.internal.selfref&quot;)=&amp;lt;externalptr&amp;gt; First thing first, get the data from last week. What about this weird time column? df[, .(time_usec = as.character(time_usec))] %&amp;gt;% head() ## time_usec ## 1: 1567623891808102 ## 2: 1567623890295210 ## 3: 1567623886825938 ## 4: 1567623866374017 ## 5: 1567623864604245 ## 6: 1567623851481596 When seeing these numbers, one thinks of Unix timestamp, which is “the number of seconds that have elapsed since 00:00:00 Thursday, 1 January 1970”. So… df[, .(time_usec = as.POSIXct(time_usec, origin=&quot;1970-01-01&quot;))] %&amp;gt;% head() ## time_usec ## 1: 49677993-08-02 03:48:22 ## 2: 49677993-07-15 15:33:30 ## 3: 49677993-06-05 11:52:18 ## 4: 49677992-10-11 18:46:57 ## 5: 49677992-09-21 07:10:45 ## 6: 49677992-04-22 09:59:56 Well, unless I’ve been trapped in a weird time machine or that episode of Game of Thrones was very, very long, I don’t remember being in year 49677993 :) I have no idea why this number are that long: if we look at today’s date, we’ve got a UNIX time stamp of as.numeric(Sys.time()) ## [1] 1568038038 # versus df[, as.character(time_usec)] %&amp;gt;% head(1) ## [1] &quot;1567623891808102&quot; Today’s UNIX date, which has a step of one second, is a 10 digits long number. The time stamp in this dataset are 16 digits longs. But we can also notice that the 10 first digits of both are relatively close: 156780 and 156762. My guess so far is that the data are in microseconds, as one microsecond is 1e-6 second. Let’s give this a shot: df[, time_usec := as.POSIXct(time_usec / 1e6, origin=&quot;1970-01-01&quot;)][, time_usec] %&amp;gt;% head() ## [1] &quot;2019-09-04 21:04:51 CEST&quot; &quot;2019-09-04 21:04:50 CEST&quot; ## [3] &quot;2019-09-04 21:04:46 CEST&quot; &quot;2019-09-04 21:04:26 CEST&quot; ## [5] &quot;2019-09-04 21:04:24 CEST&quot; &quot;2019-09-04 21:04:11 CEST&quot; AH! That looks better! Let’s filter and turn the title to lowercase. library(anytime) week &amp;lt;- df[ time_usec &amp;gt; anytime(&quot;2019-08-25&quot;) &amp;amp; time_usec &amp;lt; anytime(&quot;2019-09-02&quot;) ][, tite := tolower(title) ] Let’s now filter only the Google search: search &amp;lt;- week[ grep(&quot;www.google.com/search&quot;, url), ] And count the number of search by day: library(ggplot2) ggplot(search, aes(as.Date(time_usec))) + geom_bar() + labs( title = &quot;Search by day of the week (Monday to Sunday)&quot;, x = &quot;Day of the week&quot; ) Some extracts Let’s now have a look at some of the search terms: Shiny search[ grep(&quot;shiny&quot;, title), gsub(&quot; - Recherche Google&quot;, &quot;&quot;, title) ] %&amp;gt;% unique() ## [1] &quot;suspend an observe event in shiny&quot; ## [2] &quot;create a new shiny app from command line&quot; ## [3] &quot;shiny flush react&quot; ## [4] &quot;shiny delete input binding&quot; ## [5] &quot;shiny delete an input binding from ui side&quot; ## [6] &quot;shiny dashboard link to a specific tab&quot; ## [7] &quot;remove input value shiny r&quot; ## [8] &quot;remove input value shiny&quot; ## [9] &quot;log everything shiny does&quot; ## [10] &quot;shiny .graphDependsOnId&quot; ## [11] &quot;date picker widget shiny&quot; ## [12] &quot;jquery datepicker shiny&quot; ## [13] &quot;shiny daterangeinput end before finish&quot; ## [14] &quot;shiny date range input&quot; ## [15] &quot;shinyapps io&quot; ## [16] &quot;dreal shiny apps&quot; ## [17] &quot;shinyexample&quot; ## [18] &quot;daterangeinput shiny end superior to start&quot; ## [19] &quot;shiny date range&quot; ## [20] &quot;shiny date picker&quot; ## [21] &quot;shiny DT disablee row name&quot; ## [22] &quot;shiny jqui&quot; ## [23] &quot;shiny jsqui&quot; ## [24] &quot;option shiny browser viwer&quot; You can note that: I can never remember how to set which Viewer Shiny uses I had trouble with Shiny dateRangeInput being able to end before start and tried to see for other alternative. Also, this weird one, where I saved some reactiveValue to a MongoDB storage, and when I tried to reuse them, I had an error about the .graphDependsOnId function not found. Turns out it’s an old Shiny function, which might have been saved in the RDS saved in the mongo DB (well, that’s my guess). My solution was to take this piece of code from the source and put it back in my app. I had some trouble with the behavior of a restarting app and the removeUI function, which in fact does not remove the input value. Also, it’s interesting to note that some input are not fully restored when restarting the app with Firefox, so I wanted to look for a way to (really) delete input from the JS side (unsuccessfully so far). I also wondered if there was a kind of shiny::createApp(), which creates a file with the app skeleton in it. When you use the RStudio interface for creating app, you’ve got an app skeleton. That must be somewhere. R search[ grep(&quot; r &quot;, title), gsub(&quot; - Recherche Google&quot;, &quot;&quot;, title) ] %&amp;gt;% unique() ## [1] &quot;remove input value shiny r&quot; ## [2] &quot;whereami r package&quot; ## [3] &quot;wherami r package&quot; ## [4] &quot;fs r package&quot; ## [5] &quot;docopt r&quot; ## [6] &quot;insert page break in pagedown r pacakge&quot; ## [7] &quot;new page in pagedown r pacakge&quot; Nop, still can’t remember how to insert a page break in {pagedown}. Also, still can’t write “package” correctly. JavaScript Yes, being a Shiny developer means you do a significant amount of JavaScript / jQuery. search[ grep(&quot;javascript|jquery&quot;, title), gsub(&quot; - Recherche Google&quot;, &quot;&quot;, title) ] %&amp;gt;% unique() ## [1] &quot;change variable evaluation environment in javascript&quot; ## [2] &quot;environment in javascript&quot; ## [3] &quot;comafy javascript&quot; ## [4] &quot;jquery parent&quot; ## [5] &quot;find element with data attribute jquery&quot; ## [6] &quot;javascript function&quot; ## [7] &quot;confirmation pop up in javascript&quot; ## [8] &quot;function in javascript&quot; ## [9] &quot;javascript void&quot; ## [10] &quot;non standard evaluation in javascript&quot; ## [11] &quot;list all variables javascript&quot; ## [12] &quot;javascript reload page and launch a function&quot; ## [13] &quot;javascript fin anywhere in object&quot; ## [14] &quot;get class of javascript object&quot; ## [15] &quot;get class of element jquery&quot; ## [16] &quot;add onclick event jquery&quot; ## [17] &quot;jquery datepicker shiny&quot; ## [18] &quot;jquery launch function on div change&quot; ## [19] &quot;jquery extract id of all children&quot; ## [20] &quot;javascript for loop&quot; ## [21] &quot;jquery drag and drop&quot; ## [22] &quot;reorder list javascript&quot; Let’s admit that: I can never remember the correct syntax for for loops in JavaScript. Like, ever. I always try for (var i, i &amp;lt; x.length, i++). That’s ;, Colin, maybe writing it there will make me remember :) The “find anywhere in object” and JavaScript launch and reload were still linked to my refresh input in Shiny issue. And apparently it’s more complicated than I had expected to play with symbols and environment in JavaScript</summary></entry><entry><title type="html">Playing with dolt - Part One</title><link href="http://localhost:4000/playing-with-dolt-one/" rel="alternate" type="text/html" title="Playing with dolt - Part One" /><published>2019-08-17T00:00:00+02:00</published><updated>2019-08-17T00:00:00+02:00</updated><id>http://localhost:4000/playing-dolt</id><content type="html" xml:base="http://localhost:4000/playing-with-dolt-one/">&lt;p&gt;A few weeks back, I subscribed to become a beta tester for &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt;, the
&lt;em&gt;“Git for data”&lt;/em&gt;. This post is the first of a series of posts
exploring this tool.&lt;/p&gt;

&lt;h2 id=&quot;what-is-dolt&quot;&gt;What is &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt;?&lt;/h2&gt;

&lt;p&gt;From &lt;a href=&quot;https://www.dolthub.com/&quot;&gt;the official website&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Dolt is Git for data. Git versions files. Dolt versions tables. Dolt
looks a lot like Git all the way down to the help documentation. We
didn’t want a better version control interface. We just wanted a
version-controlled database. Dolt can version any set of tables from a
small Excel spreadsheet to a terabyte-scale database.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Dolt is also a relational database. Dolt stores data in tables with
schemas. You interact with the database using SQL.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;Dolt uses a custom database engine to provide fast operations and
efficient storage for large tables. Dolt treats rows as unordered and
understands columns, so diffs and merges are table cell-based instead
of line-based, providing a more ergonomic data-versioning experience.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;As advertised, &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; works pretty much like &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt;, and if you’re
already familiar with &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt;, using this new tool will be pretty
straightforward.&lt;/p&gt;

&lt;p&gt;To understand how it conceptually works, let’s start with &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt;: you
initiate a &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt; repository in a folder on your computer, and you tell
&lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt; to track one or more file(s), and the change inside these files,
which are flagged through commits, and potentially synchronized with a
distant repository. Well, &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; works pretty much the same way: you
initiate a repo in a folder, register one or more table(s) to keep track
of, make change to the table, and commit these changes. And of course,
you can use branches, reset, and all that :)&lt;/p&gt;

&lt;p&gt;Here’s a little demo of using this data-centered version-control tool.&lt;/p&gt;

&lt;h2 id=&quot;install-dolt&quot;&gt;Install dolt&lt;/h2&gt;

&lt;p&gt;You can find the install process on the &lt;a href=&quot;https://github.com/liquidata-inc/dolt&quot;&gt;GitHub
repo&lt;/a&gt;. What I did was download
the binary and copy it to my
path.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wget https://github.com/liquidata-inc/dolt/releases/download/v0.9.7/dolt-darwin-386.tar.gz
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zxvf&lt;/span&gt; dolt-darwin-386.tar.gz
&lt;span class=&quot;nb&quot;&gt;mv &lt;/span&gt;dolt-darwin-386/bin/dolt /usr/local/bin/dolt
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; dolt&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;How to verify from R that the bin is there:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Sys.which&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dolt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##                  dolt 
## &quot;/usr/local/bin/dolt&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now, back to the terminal. Here is a list of all available commands:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Valid commands for dolt are
##                 init - Create an empty Dolt data repository.
##               status - Show the working tree status.
##                  add - Add table changes to the list of staged table changes.
##                reset - Remove table changes from the list of staged table changes.
##               commit - Record changes to the repository.
##                  sql - Run a SQL query against tables in repository.
##           sql-server - Starts a MySQL-compatible server.
##                  log - Show commit logs.
##                 diff - Diff a table.
##                merge - Merge a branch.
##               branch - Create, list, edit, delete branches.
##             checkout - Checkout a branch or overwrite a table from HEAD.
##               remote - Manage set of tracked repositories.
##                 push - Push to a dolt remote.
##                 pull - Fetch from a dolt remote data repository and merge.
##                fetch - Update the database from a remote data repository.
##                clone - Clone from a remote data repository.
##                creds - Commands for managing credentials.
##                login - Login to a dolt remote host.
##              version - Displays the current Dolt cli version.
##               config - Dolt configuration.
##                   ls - List tables in the working set.
##               schema - Display the schema for table(s)
##                table - Commands for creating, reading, updating, and deleting tables.
##            conflicts - Commands for viewing and resolving merge conflicts.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As said before, &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; works pretty much like &lt;code class=&quot;highlighter-rouge&quot;&gt;git&lt;/code&gt;, so almost
everything share the same vocabulary. The new things are mostly &lt;code class=&quot;highlighter-rouge&quot;&gt;schema&lt;/code&gt;
and &lt;code class=&quot;highlighter-rouge&quot;&gt;table&lt;/code&gt;, which are related to databases.&lt;/p&gt;

&lt;h2 id=&quot;playing-with-dolt&quot;&gt;Playing with dolt&lt;/h2&gt;

&lt;p&gt;Here’s a short script using R &amp;amp; dolt to version control data&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Put iris there &amp;amp; check it's there&lt;/span&gt;
Rscript &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;write.csv(tibble::rowid_to_column(iris), 'testiris.csv', row.names = FALSE)&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Side note&lt;/em&gt;: I’m using &lt;code class=&quot;highlighter-rouge&quot;&gt;tibble::rowid_to_column(iris)&lt;/code&gt; because &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt;
needs a &lt;strong&gt;primary key&lt;/strong&gt; to keep track of the modifications in a file. A
primary key is a column that can be used ot uniquely identify a line.
Something which does not natively exists in R. It does exist if you use
&lt;code class=&quot;highlighter-rouge&quot;&gt;write.csv()&lt;/code&gt; without the &lt;code class=&quot;highlighter-rouge&quot;&gt;row.names = FALSE&lt;/code&gt;, yet the newly created
column contains a first columb named &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;&quot;&lt;/code&gt;, which is rather uneasy to
manipulate.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;More on &lt;a href=&quot;https://www.w3schools.com/sql/sql_primarykey.asp&quot;&gt;SQL primary
key&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Side note 2&lt;/em&gt;: if you’re using csv with &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt;, you’ll need the PK to be
the first column:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In order for csv import to work without additional command line
parameters, the csv file you are importing should have the file
extension “.csv”, and should have column names as the first line of
the file. (&lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; README)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Overview of the dataset&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;head&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-5&lt;/span&gt; testiris.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## &quot;rowid&quot;,&quot;Sepal.Length&quot;,&quot;Sepal.Width&quot;,&quot;Petal.Length&quot;,&quot;Petal.Width&quot;,&quot;Species&quot;
## 1,5.1,3.5,1.4,0.2,&quot;setosa&quot;
## 2,4.9,3,1.4,0.2,&quot;setosa&quot;
## 3,4.7,3.2,1.3,0.2,&quot;setosa&quot;
## 4,4.6,3.1,1.5,0.2,&quot;setosa&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Overview of the dataset&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;wc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; testiris.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##      151 testiris.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now the &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; part:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Successfully initialized dolt data repository.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now let’s track our iris.csv
    file:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt table import &lt;span class=&quot;nt&quot;&gt;--create-table&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pk&lt;/span&gt; rowid plop testiris.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Rows Processed: 150, Additions: 150, Modifications: 0, Had No Effect: 0
## Import completed successfully.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s detail what we’ve done here:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;using &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;manipulating a &lt;code class=&quot;highlighter-rouge&quot;&gt;table&lt;/code&gt; (the csv)&lt;/li&gt;
  &lt;li&gt;I’m importing the file &lt;code class=&quot;highlighter-rouge&quot;&gt;testiris.csv&lt;/code&gt; as the table &lt;code class=&quot;highlighter-rouge&quot;&gt;plop&lt;/code&gt;, passing
&lt;code class=&quot;highlighter-rouge&quot;&gt;--create-table&lt;/code&gt; to create a new table in the &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; repo (the table
could be overwritten if you pass the &lt;code class=&quot;highlighter-rouge&quot;&gt;-f&lt;/code&gt; option)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-pk rowid&lt;/code&gt; informs that the rowid column is the primary key.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then, some things that will remind you of git:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## On branch master
## Untracked files:
##   (use &quot;dolt add &amp;lt;table&amp;gt;&quot; to include in what will be committed)
##  new table:      plop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt add plop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;👶&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;push-to-distant-repo&quot;&gt;Push to distant repo&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dolt&lt;/code&gt; comes with &lt;a href=&quot;https://beta.dolthub.com&quot;&gt;dolthub&lt;/a&gt;, which is, as you
would have guessed, a distant repo where you can version control your
data.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt remote add origin colinfay/testiris
dolt push &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; origin master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;running-sql-commands&quot;&gt;Running SQL commands&lt;/h2&gt;

&lt;p&gt;If you only run &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt sql&lt;/code&gt;, a prompt opens. You can also use &lt;code class=&quot;highlighter-rouge&quot;&gt;dolt sql
--query &amp;lt;SQL query to run&amp;gt;&lt;/code&gt; to do this non
interactively&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt sql &lt;span class=&quot;nt&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SELECT rowid, `Sepal.Length`, Species FROM plop LIMIT 5'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## +-------+--------------+------------+
## | rowid | Sepal.Length | Species    |
## +-------+--------------+------------+
## | 1     | 5.1          | setosa     |
## | 10    | 4.9          | setosa     |
## | 100   | 5.7          | versicolor |
## | 101   | 6.3          | virginica  |
## | 102   | 5.8          | virginica  |
## +-------+--------------+------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s update our
data:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt sql &lt;span class=&quot;nt&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'UPDATE plop SET Species=&quot;setosssa&quot; where Species=&quot;setosa&quot;'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Rows updated: 50
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt sql &lt;span class=&quot;nt&quot;&gt;--query&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SELECT rowid, `Sepal.Length`, Species FROM plop LIMIT 5'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## +-------+--------------+------------+
## | rowid | Sepal.Length | Species    |
## +-------+--------------+------------+
## | 1     | 5.1          | setosssa   |
## | 10    | 4.9          | setosssa   |
## | 100   | 5.7          | versicolor |
## | 101   | 6.3          | virginica  |
## | 102   | 5.8          | virginica  |
## +-------+--------------+------------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Show the diff&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt diff
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## diff --dolt a/plop b/plop
## --- a/plop @ e69hf9q91ll6cjj4d879q93upvemh62r
## +++ b/plop @ bffa0c0e9c70j72o73aa3a1ji6snsl2q
## +-----+-------+--------------+-------------+--------------+-------------+----------+
## |     | rowid | Sepal.Length | Sepal.Width | Petal.Length | Petal.Width | Species  |
## +-----+-------+--------------+-------------+--------------+-------------+----------+
## |  &amp;lt;  | 1     | 5.1          | 3.5         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 1     | 5.1          | 3.5         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 10    | 4.9          | 3.1         | 1.5          | 0.1         | setosa   |
## |  &amp;gt;  | 10    | 4.9          | 3.1         | 1.5          | 0.1         | setosssa |
## |  &amp;lt;  | 11    | 5.4          | 3.7         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 11    | 5.4          | 3.7         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 12    | 4.8          | 3.4         | 1.6          | 0.2         | setosa   |
## |  &amp;gt;  | 12    | 4.8          | 3.4         | 1.6          | 0.2         | setosssa |
## |  &amp;lt;  | 13    | 4.8          | 3           | 1.4          | 0.1         | setosa   |
## |  &amp;gt;  | 13    | 4.8          | 3           | 1.4          | 0.1         | setosssa |
## |  &amp;lt;  | 14    | 4.3          | 3           | 1.1          | 0.1         | setosa   |
## |  &amp;gt;  | 14    | 4.3          | 3           | 1.1          | 0.1         | setosssa |
## |  &amp;lt;  | 15    | 5.8          | 4           | 1.2          | 0.2         | setosa   |
## |  &amp;gt;  | 15    | 5.8          | 4           | 1.2          | 0.2         | setosssa |
## |  &amp;lt;  | 16    | 5.7          | 4.4         | 1.5          | 0.4         | setosa   |
## |  &amp;gt;  | 16    | 5.7          | 4.4         | 1.5          | 0.4         | setosssa |
## |  &amp;lt;  | 17    | 5.4          | 3.9         | 1.3          | 0.4         | setosa   |
## |  &amp;gt;  | 17    | 5.4          | 3.9         | 1.3          | 0.4         | setosssa |
## |  &amp;lt;  | 18    | 5.1          | 3.5         | 1.4          | 0.3         | setosa   |
## |  &amp;gt;  | 18    | 5.1          | 3.5         | 1.4          | 0.3         | setosssa |
## |  &amp;lt;  | 19    | 5.7          | 3.8         | 1.7          | 0.3         | setosa   |
## |  &amp;gt;  | 19    | 5.7          | 3.8         | 1.7          | 0.3         | setosssa |
## |  &amp;lt;  | 2     | 4.9          | 3           | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 2     | 4.9          | 3           | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 20    | 5.1          | 3.8         | 1.5          | 0.3         | setosa   |
## |  &amp;gt;  | 20    | 5.1          | 3.8         | 1.5          | 0.3         | setosssa |
## |  &amp;lt;  | 21    | 5.4          | 3.4         | 1.7          | 0.2         | setosa   |
## |  &amp;gt;  | 21    | 5.4          | 3.4         | 1.7          | 0.2         | setosssa |
## |  &amp;lt;  | 22    | 5.1          | 3.7         | 1.5          | 0.4         | setosa   |
## |  &amp;gt;  | 22    | 5.1          | 3.7         | 1.5          | 0.4         | setosssa |
## |  &amp;lt;  | 23    | 4.6          | 3.6         | 1            | 0.2         | setosa   |
## |  &amp;gt;  | 23    | 4.6          | 3.6         | 1            | 0.2         | setosssa |
## |  &amp;lt;  | 24    | 5.1          | 3.3         | 1.7          | 0.5         | setosa   |
## |  &amp;gt;  | 24    | 5.1          | 3.3         | 1.7          | 0.5         | setosssa |
## |  &amp;lt;  | 25    | 4.8          | 3.4         | 1.9          | 0.2         | setosa   |
## |  &amp;gt;  | 25    | 4.8          | 3.4         | 1.9          | 0.2         | setosssa |
## |  &amp;lt;  | 26    | 5            | 3           | 1.6          | 0.2         | setosa   |
## |  &amp;gt;  | 26    | 5            | 3           | 1.6          | 0.2         | setosssa |
## |  &amp;lt;  | 27    | 5            | 3.4         | 1.6          | 0.4         | setosa   |
## |  &amp;gt;  | 27    | 5            | 3.4         | 1.6          | 0.4         | setosssa |
## |  &amp;lt;  | 28    | 5.2          | 3.5         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 28    | 5.2          | 3.5         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 29    | 5.2          | 3.4         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 29    | 5.2          | 3.4         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 3     | 4.7          | 3.2         | 1.3          | 0.2         | setosa   |
## |  &amp;gt;  | 3     | 4.7          | 3.2         | 1.3          | 0.2         | setosssa |
## |  &amp;lt;  | 30    | 4.7          | 3.2         | 1.6          | 0.2         | setosa   |
## |  &amp;gt;  | 30    | 4.7          | 3.2         | 1.6          | 0.2         | setosssa |
## |  &amp;lt;  | 31    | 4.8          | 3.1         | 1.6          | 0.2         | setosa   |
## |  &amp;gt;  | 31    | 4.8          | 3.1         | 1.6          | 0.2         | setosssa |
## |  &amp;lt;  | 32    | 5.4          | 3.4         | 1.5          | 0.4         | setosa   |
## |  &amp;gt;  | 32    | 5.4          | 3.4         | 1.5          | 0.4         | setosssa |
## |  &amp;lt;  | 33    | 5.2          | 4.1         | 1.5          | 0.1         | setosa   |
## |  &amp;gt;  | 33    | 5.2          | 4.1         | 1.5          | 0.1         | setosssa |
## |  &amp;lt;  | 34    | 5.5          | 4.2         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 34    | 5.5          | 4.2         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 35    | 4.9          | 3.1         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 35    | 4.9          | 3.1         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 36    | 5            | 3.2         | 1.2          | 0.2         | setosa   |
## |  &amp;gt;  | 36    | 5            | 3.2         | 1.2          | 0.2         | setosssa |
## |  &amp;lt;  | 37    | 5.5          | 3.5         | 1.3          | 0.2         | setosa   |
## |  &amp;gt;  | 37    | 5.5          | 3.5         | 1.3          | 0.2         | setosssa |
## |  &amp;lt;  | 38    | 4.9          | 3.6         | 1.4          | 0.1         | setosa   |
## |  &amp;gt;  | 38    | 4.9          | 3.6         | 1.4          | 0.1         | setosssa |
## |  &amp;lt;  | 39    | 4.4          | 3           | 1.3          | 0.2         | setosa   |
## |  &amp;gt;  | 39    | 4.4          | 3           | 1.3          | 0.2         | setosssa |
## |  &amp;lt;  | 4     | 4.6          | 3.1         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 4     | 4.6          | 3.1         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 40    | 5.1          | 3.4         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 40    | 5.1          | 3.4         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 41    | 5            | 3.5         | 1.3          | 0.3         | setosa   |
## |  &amp;gt;  | 41    | 5            | 3.5         | 1.3          | 0.3         | setosssa |
## |  &amp;lt;  | 42    | 4.5          | 2.3         | 1.3          | 0.3         | setosa   |
## |  &amp;gt;  | 42    | 4.5          | 2.3         | 1.3          | 0.3         | setosssa |
## |  &amp;lt;  | 43    | 4.4          | 3.2         | 1.3          | 0.2         | setosa   |
## |  &amp;gt;  | 43    | 4.4          | 3.2         | 1.3          | 0.2         | setosssa |
## |  &amp;lt;  | 44    | 5            | 3.5         | 1.6          | 0.6         | setosa   |
## |  &amp;gt;  | 44    | 5            | 3.5         | 1.6          | 0.6         | setosssa |
## |  &amp;lt;  | 45    | 5.1          | 3.8         | 1.9          | 0.4         | setosa   |
## |  &amp;gt;  | 45    | 5.1          | 3.8         | 1.9          | 0.4         | setosssa |
## |  &amp;lt;  | 46    | 4.8          | 3           | 1.4          | 0.3         | setosa   |
## |  &amp;gt;  | 46    | 4.8          | 3           | 1.4          | 0.3         | setosssa |
## |  &amp;lt;  | 47    | 5.1          | 3.8         | 1.6          | 0.2         | setosa   |
## |  &amp;gt;  | 47    | 5.1          | 3.8         | 1.6          | 0.2         | setosssa |
## |  &amp;lt;  | 48    | 4.6          | 3.2         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 48    | 4.6          | 3.2         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 49    | 5.3          | 3.7         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 49    | 5.3          | 3.7         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 5     | 5            | 3.6         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 5     | 5            | 3.6         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 50    | 5            | 3.3         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 50    | 5            | 3.3         | 1.4          | 0.2         | setosssa |
## |  &amp;lt;  | 6     | 5.4          | 3.9         | 1.7          | 0.4         | setosa   |
## |  &amp;gt;  | 6     | 5.4          | 3.9         | 1.7          | 0.4         | setosssa |
## |  &amp;lt;  | 7     | 4.6          | 3.4         | 1.4          | 0.3         | setosa   |
## |  &amp;gt;  | 7     | 4.6          | 3.4         | 1.4          | 0.3         | setosssa |
## |  &amp;lt;  | 8     | 5            | 3.4         | 1.5          | 0.2         | setosa   |
## |  &amp;gt;  | 8     | 5            | 3.4         | 1.5          | 0.2         | setosssa |
## |  &amp;lt;  | 9     | 4.4          | 2.9         | 1.4          | 0.2         | setosa   |
## |  &amp;gt;  | 9     | 4.4          | 2.9         | 1.4          | 0.2         | setosssa |
## +-----+-------+--------------+-------------+--------------+-------------+----------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt add plop
dolt commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;changed to setosssa&quot;&lt;/span&gt;
dolt status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## On branch master
## nothing to commit, working tree clean
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt push 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dolt log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## commit ofi9rlouqa069h57brq8e8l02jej96ie
## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt;
## Date:   Mon Aug 19 23:30:18 +0200 2019
## 
##  changed to setosssa
## 
## commit ap176almtitmflqg4uge1tkillsi5his
## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt;
## Date:   Mon Aug 19 23:30:17 +0200 2019
## 
##  👶
## 
## commit engm1cgcvjk3eoeo8qssd3qbb21ifi6i
## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt;
## Date:   Mon Aug 19 23:30:17 +0200 2019
## 
##  Data repository created.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nd now, see the result on my &lt;a href=&quot;https://beta.dolthub.com/repositories/colinfay/testiris&quot;&gt;DoltHub
account!&lt;/a&gt;&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">A few weeks back, I subscribed to become a beta tester for dolt, the “Git for data”. This post is the first of a series of posts exploring this tool. What is dolt? From the official website: Dolt is Git for data. Git versions files. Dolt versions tables. Dolt looks a lot like Git all the way down to the help documentation. We didn’t want a better version control interface. We just wanted a version-controlled database. Dolt can version any set of tables from a small Excel spreadsheet to a terabyte-scale database. Dolt is also a relational database. Dolt stores data in tables with schemas. You interact with the database using SQL. Dolt uses a custom database engine to provide fast operations and efficient storage for large tables. Dolt treats rows as unordered and understands columns, so diffs and merges are table cell-based instead of line-based, providing a more ergonomic data-versioning experience. As advertised, dolt works pretty much like git, and if you’re already familiar with git, using this new tool will be pretty straightforward. To understand how it conceptually works, let’s start with git: you initiate a git repository in a folder on your computer, and you tell git to track one or more file(s), and the change inside these files, which are flagged through commits, and potentially synchronized with a distant repository. Well, dolt works pretty much the same way: you initiate a repo in a folder, register one or more table(s) to keep track of, make change to the table, and commit these changes. And of course, you can use branches, reset, and all that :) Here’s a little demo of using this data-centered version-control tool. Install dolt You can find the install process on the GitHub repo. What I did was download the binary and copy it to my path. wget https://github.com/liquidata-inc/dolt/releases/download/v0.9.7/dolt-darwin-386.tar.gz tar -zxvf dolt-darwin-386.tar.gz mv dolt-darwin-386/bin/dolt /usr/local/bin/dolt rm -rf dolt* How to verify from R that the bin is there: Sys.which(&quot;dolt&quot;) ## dolt ## &quot;/usr/local/bin/dolt&quot; Now, back to the terminal. Here is a list of all available commands: dolt ## Valid commands for dolt are ## init - Create an empty Dolt data repository. ## status - Show the working tree status. ## add - Add table changes to the list of staged table changes. ## reset - Remove table changes from the list of staged table changes. ## commit - Record changes to the repository. ## sql - Run a SQL query against tables in repository. ## sql-server - Starts a MySQL-compatible server. ## log - Show commit logs. ## diff - Diff a table. ## merge - Merge a branch. ## branch - Create, list, edit, delete branches. ## checkout - Checkout a branch or overwrite a table from HEAD. ## remote - Manage set of tracked repositories. ## push - Push to a dolt remote. ## pull - Fetch from a dolt remote data repository and merge. ## fetch - Update the database from a remote data repository. ## clone - Clone from a remote data repository. ## creds - Commands for managing credentials. ## login - Login to a dolt remote host. ## version - Displays the current Dolt cli version. ## config - Dolt configuration. ## ls - List tables in the working set. ## schema - Display the schema for table(s) ## table - Commands for creating, reading, updating, and deleting tables. ## conflicts - Commands for viewing and resolving merge conflicts. As said before, dolt works pretty much like git, so almost everything share the same vocabulary. The new things are mostly schema and table, which are related to databases. Playing with dolt Here’s a short script using R &amp;amp; dolt to version control data # Put iris there &amp;amp; check it's there Rscript -e &quot;write.csv(tibble::rowid_to_column(iris), 'testiris.csv', row.names = FALSE)&quot; Side note: I’m using tibble::rowid_to_column(iris) because dolt needs a primary key to keep track of the modifications in a file. A primary key is a column that can be used ot uniquely identify a line. Something which does not natively exists in R. It does exist if you use write.csv() without the row.names = FALSE, yet the newly created column contains a first columb named &quot;&quot;, which is rather uneasy to manipulate. More on SQL primary key Side note 2: if you’re using csv with dolt, you’ll need the PK to be the first column: In order for csv import to work without additional command line parameters, the csv file you are importing should have the file extension “.csv”, and should have column names as the first line of the file. (dolt README) # Overview of the dataset head -5 testiris.csv ## &quot;rowid&quot;,&quot;Sepal.Length&quot;,&quot;Sepal.Width&quot;,&quot;Petal.Length&quot;,&quot;Petal.Width&quot;,&quot;Species&quot; ## 1,5.1,3.5,1.4,0.2,&quot;setosa&quot; ## 2,4.9,3,1.4,0.2,&quot;setosa&quot; ## 3,4.7,3.2,1.3,0.2,&quot;setosa&quot; ## 4,4.6,3.1,1.5,0.2,&quot;setosa&quot; # Overview of the dataset wc -l testiris.csv ## 151 testiris.csv Now the dolt part: dolt init ## Successfully initialized dolt data repository. Now let’s track our iris.csv file: dolt table import --create-table -pk rowid plop testiris.csv ## Rows Processed: 150, Additions: 150, Modifications: 0, Had No Effect: 0 ## Import completed successfully. Let’s detail what we’ve done here: using dolt manipulating a table (the csv) I’m importing the file testiris.csv as the table plop, passing --create-table to create a new table in the dolt repo (the table could be overwritten if you pass the -f option) -pk rowid informs that the rowid column is the primary key. Then, some things that will remind you of git: dolt status ## On branch master ## Untracked files: ## (use &quot;dolt add &amp;lt;table&amp;gt;&quot; to include in what will be committed) ## new table: plop dolt add plop dolt commit -m &quot;👶&quot; Push to distant repo dolt comes with dolthub, which is, as you would have guessed, a distant repo where you can version control your data. dolt remote add origin colinfay/testiris dolt push -u origin master Running SQL commands If you only run dolt sql, a prompt opens. You can also use dolt sql --query &amp;lt;SQL query to run&amp;gt; to do this non interactively dolt sql --query 'SELECT rowid, `Sepal.Length`, Species FROM plop LIMIT 5' ## +-------+--------------+------------+ ## | rowid | Sepal.Length | Species | ## +-------+--------------+------------+ ## | 1 | 5.1 | setosa | ## | 10 | 4.9 | setosa | ## | 100 | 5.7 | versicolor | ## | 101 | 6.3 | virginica | ## | 102 | 5.8 | virginica | ## +-------+--------------+------------+ Let’s update our data: dolt sql --query 'UPDATE plop SET Species=&quot;setosssa&quot; where Species=&quot;setosa&quot;' ## Rows updated: 50 dolt sql --query 'SELECT rowid, `Sepal.Length`, Species FROM plop LIMIT 5' ## +-------+--------------+------------+ ## | rowid | Sepal.Length | Species | ## +-------+--------------+------------+ ## | 1 | 5.1 | setosssa | ## | 10 | 4.9 | setosssa | ## | 100 | 5.7 | versicolor | ## | 101 | 6.3 | virginica | ## | 102 | 5.8 | virginica | ## +-------+--------------+------------+ Show the diff dolt diff ## diff --dolt a/plop b/plop ## --- a/plop @ e69hf9q91ll6cjj4d879q93upvemh62r ## +++ b/plop @ bffa0c0e9c70j72o73aa3a1ji6snsl2q ## +-----+-------+--------------+-------------+--------------+-------------+----------+ ## | | rowid | Sepal.Length | Sepal.Width | Petal.Length | Petal.Width | Species | ## +-----+-------+--------------+-------------+--------------+-------------+----------+ ## | &amp;lt; | 1 | 5.1 | 3.5 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 1 | 5.1 | 3.5 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 10 | 4.9 | 3.1 | 1.5 | 0.1 | setosa | ## | &amp;gt; | 10 | 4.9 | 3.1 | 1.5 | 0.1 | setosssa | ## | &amp;lt; | 11 | 5.4 | 3.7 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 11 | 5.4 | 3.7 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 12 | 4.8 | 3.4 | 1.6 | 0.2 | setosa | ## | &amp;gt; | 12 | 4.8 | 3.4 | 1.6 | 0.2 | setosssa | ## | &amp;lt; | 13 | 4.8 | 3 | 1.4 | 0.1 | setosa | ## | &amp;gt; | 13 | 4.8 | 3 | 1.4 | 0.1 | setosssa | ## | &amp;lt; | 14 | 4.3 | 3 | 1.1 | 0.1 | setosa | ## | &amp;gt; | 14 | 4.3 | 3 | 1.1 | 0.1 | setosssa | ## | &amp;lt; | 15 | 5.8 | 4 | 1.2 | 0.2 | setosa | ## | &amp;gt; | 15 | 5.8 | 4 | 1.2 | 0.2 | setosssa | ## | &amp;lt; | 16 | 5.7 | 4.4 | 1.5 | 0.4 | setosa | ## | &amp;gt; | 16 | 5.7 | 4.4 | 1.5 | 0.4 | setosssa | ## | &amp;lt; | 17 | 5.4 | 3.9 | 1.3 | 0.4 | setosa | ## | &amp;gt; | 17 | 5.4 | 3.9 | 1.3 | 0.4 | setosssa | ## | &amp;lt; | 18 | 5.1 | 3.5 | 1.4 | 0.3 | setosa | ## | &amp;gt; | 18 | 5.1 | 3.5 | 1.4 | 0.3 | setosssa | ## | &amp;lt; | 19 | 5.7 | 3.8 | 1.7 | 0.3 | setosa | ## | &amp;gt; | 19 | 5.7 | 3.8 | 1.7 | 0.3 | setosssa | ## | &amp;lt; | 2 | 4.9 | 3 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 2 | 4.9 | 3 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 20 | 5.1 | 3.8 | 1.5 | 0.3 | setosa | ## | &amp;gt; | 20 | 5.1 | 3.8 | 1.5 | 0.3 | setosssa | ## | &amp;lt; | 21 | 5.4 | 3.4 | 1.7 | 0.2 | setosa | ## | &amp;gt; | 21 | 5.4 | 3.4 | 1.7 | 0.2 | setosssa | ## | &amp;lt; | 22 | 5.1 | 3.7 | 1.5 | 0.4 | setosa | ## | &amp;gt; | 22 | 5.1 | 3.7 | 1.5 | 0.4 | setosssa | ## | &amp;lt; | 23 | 4.6 | 3.6 | 1 | 0.2 | setosa | ## | &amp;gt; | 23 | 4.6 | 3.6 | 1 | 0.2 | setosssa | ## | &amp;lt; | 24 | 5.1 | 3.3 | 1.7 | 0.5 | setosa | ## | &amp;gt; | 24 | 5.1 | 3.3 | 1.7 | 0.5 | setosssa | ## | &amp;lt; | 25 | 4.8 | 3.4 | 1.9 | 0.2 | setosa | ## | &amp;gt; | 25 | 4.8 | 3.4 | 1.9 | 0.2 | setosssa | ## | &amp;lt; | 26 | 5 | 3 | 1.6 | 0.2 | setosa | ## | &amp;gt; | 26 | 5 | 3 | 1.6 | 0.2 | setosssa | ## | &amp;lt; | 27 | 5 | 3.4 | 1.6 | 0.4 | setosa | ## | &amp;gt; | 27 | 5 | 3.4 | 1.6 | 0.4 | setosssa | ## | &amp;lt; | 28 | 5.2 | 3.5 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 28 | 5.2 | 3.5 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 29 | 5.2 | 3.4 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 29 | 5.2 | 3.4 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 3 | 4.7 | 3.2 | 1.3 | 0.2 | setosa | ## | &amp;gt; | 3 | 4.7 | 3.2 | 1.3 | 0.2 | setosssa | ## | &amp;lt; | 30 | 4.7 | 3.2 | 1.6 | 0.2 | setosa | ## | &amp;gt; | 30 | 4.7 | 3.2 | 1.6 | 0.2 | setosssa | ## | &amp;lt; | 31 | 4.8 | 3.1 | 1.6 | 0.2 | setosa | ## | &amp;gt; | 31 | 4.8 | 3.1 | 1.6 | 0.2 | setosssa | ## | &amp;lt; | 32 | 5.4 | 3.4 | 1.5 | 0.4 | setosa | ## | &amp;gt; | 32 | 5.4 | 3.4 | 1.5 | 0.4 | setosssa | ## | &amp;lt; | 33 | 5.2 | 4.1 | 1.5 | 0.1 | setosa | ## | &amp;gt; | 33 | 5.2 | 4.1 | 1.5 | 0.1 | setosssa | ## | &amp;lt; | 34 | 5.5 | 4.2 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 34 | 5.5 | 4.2 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 35 | 4.9 | 3.1 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 35 | 4.9 | 3.1 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 36 | 5 | 3.2 | 1.2 | 0.2 | setosa | ## | &amp;gt; | 36 | 5 | 3.2 | 1.2 | 0.2 | setosssa | ## | &amp;lt; | 37 | 5.5 | 3.5 | 1.3 | 0.2 | setosa | ## | &amp;gt; | 37 | 5.5 | 3.5 | 1.3 | 0.2 | setosssa | ## | &amp;lt; | 38 | 4.9 | 3.6 | 1.4 | 0.1 | setosa | ## | &amp;gt; | 38 | 4.9 | 3.6 | 1.4 | 0.1 | setosssa | ## | &amp;lt; | 39 | 4.4 | 3 | 1.3 | 0.2 | setosa | ## | &amp;gt; | 39 | 4.4 | 3 | 1.3 | 0.2 | setosssa | ## | &amp;lt; | 4 | 4.6 | 3.1 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 4 | 4.6 | 3.1 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 40 | 5.1 | 3.4 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 40 | 5.1 | 3.4 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 41 | 5 | 3.5 | 1.3 | 0.3 | setosa | ## | &amp;gt; | 41 | 5 | 3.5 | 1.3 | 0.3 | setosssa | ## | &amp;lt; | 42 | 4.5 | 2.3 | 1.3 | 0.3 | setosa | ## | &amp;gt; | 42 | 4.5 | 2.3 | 1.3 | 0.3 | setosssa | ## | &amp;lt; | 43 | 4.4 | 3.2 | 1.3 | 0.2 | setosa | ## | &amp;gt; | 43 | 4.4 | 3.2 | 1.3 | 0.2 | setosssa | ## | &amp;lt; | 44 | 5 | 3.5 | 1.6 | 0.6 | setosa | ## | &amp;gt; | 44 | 5 | 3.5 | 1.6 | 0.6 | setosssa | ## | &amp;lt; | 45 | 5.1 | 3.8 | 1.9 | 0.4 | setosa | ## | &amp;gt; | 45 | 5.1 | 3.8 | 1.9 | 0.4 | setosssa | ## | &amp;lt; | 46 | 4.8 | 3 | 1.4 | 0.3 | setosa | ## | &amp;gt; | 46 | 4.8 | 3 | 1.4 | 0.3 | setosssa | ## | &amp;lt; | 47 | 5.1 | 3.8 | 1.6 | 0.2 | setosa | ## | &amp;gt; | 47 | 5.1 | 3.8 | 1.6 | 0.2 | setosssa | ## | &amp;lt; | 48 | 4.6 | 3.2 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 48 | 4.6 | 3.2 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 49 | 5.3 | 3.7 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 49 | 5.3 | 3.7 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 5 | 5 | 3.6 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 5 | 5 | 3.6 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 50 | 5 | 3.3 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 50 | 5 | 3.3 | 1.4 | 0.2 | setosssa | ## | &amp;lt; | 6 | 5.4 | 3.9 | 1.7 | 0.4 | setosa | ## | &amp;gt; | 6 | 5.4 | 3.9 | 1.7 | 0.4 | setosssa | ## | &amp;lt; | 7 | 4.6 | 3.4 | 1.4 | 0.3 | setosa | ## | &amp;gt; | 7 | 4.6 | 3.4 | 1.4 | 0.3 | setosssa | ## | &amp;lt; | 8 | 5 | 3.4 | 1.5 | 0.2 | setosa | ## | &amp;gt; | 8 | 5 | 3.4 | 1.5 | 0.2 | setosssa | ## | &amp;lt; | 9 | 4.4 | 2.9 | 1.4 | 0.2 | setosa | ## | &amp;gt; | 9 | 4.4 | 2.9 | 1.4 | 0.2 | setosssa | ## +-----+-------+--------------+-------------+--------------+-------------+----------+ dolt add plop dolt commit -m &quot;changed to setosssa&quot; dolt status ## On branch master ## nothing to commit, working tree clean dolt push dolt log ## commit ofi9rlouqa069h57brq8e8l02jej96ie ## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt; ## Date: Mon Aug 19 23:30:18 +0200 2019 ## ## changed to setosssa ## ## commit ap176almtitmflqg4uge1tkillsi5his ## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt; ## Date: Mon Aug 19 23:30:17 +0200 2019 ## ## 👶 ## ## commit engm1cgcvjk3eoeo8qssd3qbb21ifi6i ## Author: colinfay &amp;lt;colin.fay.thinkr@gmail.com&amp;gt; ## Date: Mon Aug 19 23:30:17 +0200 2019 ## ## Data repository created. nd now, see the result on my DoltHub account!</summary></entry><entry><title type="html">Back from useR! 2019</title><link href="http://localhost:4000/back-from-toulouse/" rel="alternate" type="text/html" title="Back from useR! 2019" /><published>2019-07-14T00:00:00+02:00</published><updated>2019-07-14T00:00:00+02:00</updated><id>http://localhost:4000/back-from-toulouse</id><content type="html" xml:base="http://localhost:4000/back-from-toulouse/">&lt;p&gt;I’m back from useR! 2019!, Toulouse, where I gave one talk and a
workshop. Here are the links to the materials.&lt;/p&gt;

&lt;h2 id=&quot;2019-07-08&quot;&gt;2019-07-08&lt;/h2&gt;

&lt;h3 id=&quot;contributing-to-the-r-ecosystem&quot;&gt;Contributing to the R ecosystem&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;useR! newbie session&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;A short talk about things you can do as a beginner to contibute to the R
ecosystem.&lt;/p&gt;

&lt;p&gt;Slides:
&lt;a href=&quot;https://speakerdeck.com/colinfay/contributing-to-the-r-ecosystem&quot;&gt;https://speakerdeck.com/colinfay/contributing-to-the-r-ecosystem&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;2019-07-09&quot;&gt;2019-07-09&lt;/h2&gt;

&lt;h3 id=&quot;hacking-rstudio-advanced-use-of-your-favorite-ide&quot;&gt;Hacking RStudio: Advanced Use of your Favorite IDE&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;useR! Workshop session&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;em&gt;Have you ever wanted to become more productive with RStudio? Then this
workshop is made for you!&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;You’ve been wandering the web for a while now, reading about all the
things the cool kids do with RStudio: building addins, using project
templates, managing connections, playing around with the rstudioapi
package… All this seems pretty nifty but so far you have never find the
time to sit down and learn how to master these skills. Then, you’ve come
to the right place — this workshop will teach you how to push the
boundaries of your basic RStudio usage, in order to become more
efficient in your day to day usage of RStudio.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Slides:
&lt;a href=&quot;https://speakerdeck.com/colinfay/hacking-rstudio-advanced-use-of-your-favorite-ide&quot;&gt;https://speakerdeck.com/colinfay/hacking-rstudio-advanced-use-of-your-favorite-ide&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Repo &lt;a href=&quot;https://github.com/ColinFay/user2019workshop&quot;&gt;https://github.com/ColinFay/user2019workshop&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Example of answers to the exercises
&lt;a href=&quot;https://github.com/ColinFay/user2019workshop/tree/master/examples&quot;&gt;https://github.com/ColinFay/user2019workshop/tree/master/examples&lt;/a&gt;&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">I’m back from useR! 2019!, Toulouse, where I gave one talk and a workshop. Here are the links to the materials. 2019-07-08 Contributing to the R ecosystem useR! newbie session A short talk about things you can do as a beginner to contibute to the R ecosystem. Slides: https://speakerdeck.com/colinfay/contributing-to-the-r-ecosystem 2019-07-09 Hacking RStudio: Advanced Use of your Favorite IDE useR! Workshop session Have you ever wanted to become more productive with RStudio? Then this workshop is made for you! You’ve been wandering the web for a while now, reading about all the things the cool kids do with RStudio: building addins, using project templates, managing connections, playing around with the rstudioapi package… All this seems pretty nifty but so far you have never find the time to sit down and learn how to master these skills. Then, you’ve come to the right place — this workshop will teach you how to push the boundaries of your basic RStudio usage, in order to become more efficient in your day to day usage of RStudio. Slides: https://speakerdeck.com/colinfay/hacking-rstudio-advanced-use-of-your-favorite-ide Repo https://github.com/ColinFay/user2019workshop Example of answers to the exercises https://github.com/ColinFay/user2019workshop/tree/master/examples</summary></entry><entry><title type="html">Create a CLI for R with npm</title><link href="http://localhost:4000/create-r-cli-npm/" rel="alternate" type="text/html" title="Create a CLI for R with npm" /><published>2019-05-22T00:00:00+02:00</published><updated>2019-05-22T00:00:00+02:00</updated><id>http://localhost:4000/cli-r-npm</id><content type="html" xml:base="http://localhost:4000/create-r-cli-npm/">&lt;p&gt;How to build a CLI for R, with npm.&lt;/p&gt;

&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;

&lt;p&gt;This blog post was triggered by a discussion on Twitter with &lt;a href=&quot;https://twitter.com/_ColinFay/status/1131205018068160515&quot;&gt;Martin
Skarzynski&lt;/a&gt;,
who was looking for a way to build a CLI that launches an RScript.
Here’s a way to do this using &lt;code class=&quot;highlighter-rouge&quot;&gt;npm&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Please note that this blog post won’t teach you how to build the command
line tool, it will quickly go over the way to create a system-wide
command line interface, using npm.&lt;/p&gt;

&lt;p&gt;If you want to learn more about building the utility, see this
&lt;a href=&quot;https://blog.sellorm.com/2017/12/18/learn-to-write-command-line-utilities-in-r/&quot;&gt;fantastic series of blog
posts&lt;/a&gt;
by Mark Sellor.&lt;/p&gt;

&lt;p&gt;Now, the idea is to have a CLI, i.e. a way to launch your utility with:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ mytool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And that, system-wide.&lt;/p&gt;

&lt;h2 id=&quot;what-youll-need&quot;&gt;What you’ll need&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;An R script (script.R) with in it, for example:&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/env Rscript --vanilla&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cli&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat_rule&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yeay&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cli&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat_bullet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sys.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;npm&lt;/code&gt;, which you can get from
&lt;a href=&quot;https://nodejs.org/en/download/&quot;&gt;there&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lets-go&quot;&gt;Let’s go&lt;/h2&gt;

&lt;p&gt;Create a new folder, and go inside it.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir cli &amp;amp;&amp;amp; cd cli
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create the R Script there.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;echo '#!/usr/bin/env Rscript --vanilla' &amp;gt; script.R
echo 'cli::cat_rule(&quot;yeay&quot;)' &amp;gt;&amp;gt; script.R
echo 'cli::cat_bullet(Sys.time())' &amp;gt;&amp;gt; script.R
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Try your script to see if it works:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rscript script.R
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now launch an npm project:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm init -y
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;(You can also run it without the &lt;code class=&quot;highlighter-rouge&quot;&gt;-y&lt;/code&gt; to interactively add information
to the &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;Now the important part: add a &lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;bin&quot;&lt;/code&gt; value in the &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt;, with
the name of the bin you want to create, and the path to the script,
relatively to the package file. Here is an example of a &lt;code class=&quot;highlighter-rouge&quot;&gt;package.json&lt;/code&gt;
(I removed some elements).&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;{
  &quot;name&quot;: &quot;cli&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;CLI example with npm&quot;,
  &quot;bin&quot; : {
    &quot;clir&quot; : &quot;./script.R&quot;
  },
  &quot;author&quot;: &quot;Colin Fay&quot;,
  &quot;license&quot;: &quot;MIT&quot;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Install it globally (need sudo rights):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo npm link
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And, voilà! Open your terminal, and you’re done!&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;clir
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;other-way-to-go&quot;&gt;Other way to go&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;See the &lt;a href=&quot;https://github.com/eddelbuettel/littler&quot;&gt;{littler}&lt;/a&gt;
implementation&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">How to build a CLI for R, with npm. Background This blog post was triggered by a discussion on Twitter with Martin Skarzynski, who was looking for a way to build a CLI that launches an RScript. Here’s a way to do this using npm. Please note that this blog post won’t teach you how to build the command line tool, it will quickly go over the way to create a system-wide command line interface, using npm. If you want to learn more about building the utility, see this fantastic series of blog posts by Mark Sellor. Now, the idea is to have a CLI, i.e. a way to launch your utility with: $ mytool And that, system-wide. What you’ll need An R script (script.R) with in it, for example: #!/usr/bin/env Rscript --vanilla cli::cat_rule(&quot;yeay&quot;) cli::cat_bullet(Sys.time()) npm, which you can get from there. Let’s go Create a new folder, and go inside it. mkdir cli &amp;amp;&amp;amp; cd cli Create the R Script there. echo '#!/usr/bin/env Rscript --vanilla' &amp;gt; script.R echo 'cli::cat_rule(&quot;yeay&quot;)' &amp;gt;&amp;gt; script.R echo 'cli::cat_bullet(Sys.time())' &amp;gt;&amp;gt; script.R Try your script to see if it works: Rscript script.R Now launch an npm project: npm init -y (You can also run it without the -y to interactively add information to the package.json.) Now the important part: add a &quot;bin&quot; value in the package.json, with the name of the bin you want to create, and the path to the script, relatively to the package file. Here is an example of a package.json (I removed some elements). { &quot;name&quot;: &quot;cli&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;description&quot;: &quot;CLI example with npm&quot;, &quot;bin&quot; : { &quot;clir&quot; : &quot;./script.R&quot; }, &quot;author&quot;: &quot;Colin Fay&quot;, &quot;license&quot;: &quot;MIT&quot; } Install it globally (need sudo rights): sudo npm link And, voilà! Open your terminal, and you’re done! clir Other way to go See the {littler} implementation</summary></entry><entry><title type="html">{attempt} 0.3.0 is now on CRAN</title><link href="http://localhost:4000/attempt-0-3-0/" rel="alternate" type="text/html" title="{attempt} 0.3.0 is now on CRAN" /><published>2019-04-15T00:00:00+02:00</published><updated>2019-04-15T00:00:00+02:00</updated><id>http://localhost:4000/new-attempt</id><content type="html" xml:base="http://localhost:4000/attempt-0-3-0/">&lt;p&gt;Last week, a new version of &lt;code class=&quot;highlighter-rouge&quot;&gt;{attempt}&lt;/code&gt; was published on CRAN. This
version includes some improvements in the current code base, and the
addition of new functions.&lt;/p&gt;

&lt;p&gt;You can get it with our old friend &lt;code class=&quot;highlighter-rouge&quot;&gt;install.packages&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;attempt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;news-in-version-030&quot;&gt;News in version 0.3.0&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attempt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;packageVersion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;attempt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] '0.3.0'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Newcomers in this version:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;is_try_error()&lt;/code&gt; function, that tests if an object is of class
“try-error”.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attempt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;letters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silent&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_try_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] TRUE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;on_error()&lt;/code&gt; function, that behaves as &lt;code class=&quot;highlighter-rouge&quot;&gt;on.exit()&lt;/code&gt; except it
happens only when there is an error in the function, and can for
example be used to write logs to a file.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ouch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# or on_error(~ write(&quot;error&quot;, &quot;error.logs&quot;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.484907&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;non&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numeric&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argument&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mathematical&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ouch&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;discretly()&lt;/code&gt;, for removing warnings and message.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ouch\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bla&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Warning in y(10): ouch

## bla

## [1] 100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;discrete_y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;discretly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;discrete_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 100
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;about-attempt&quot;&gt;About &lt;code class=&quot;highlighter-rouge&quot;&gt;{attempt}&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{attempt}&lt;/code&gt; is a package that provides a series of tools for defensive
programming. It’s mainly designed for (package) developers, as it
provides easier ways to handle exceptions and to manipulate functions
for messages, warnings and errors. It’s also a very lightweight package,
as it only depends on &lt;code class=&quot;highlighter-rouge&quot;&gt;{rlang}&lt;/code&gt;, which itself has no dependencies.&lt;/p&gt;

&lt;p&gt;For example, let’s say you have a function that needs at least one
argument to be not-null. You would be tempted to write something like
this:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a, b and c can't be all NULL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in this(): a, b and c can't be all NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Or&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a, b and c can't be all NULL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in this(): a, b and c can't be all NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [[1]]
## [1] 1
## 
## [[2]]
## NULL
## 
## [[3]]
## NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;With &lt;code class=&quot;highlighter-rouge&quot;&gt;{attempt}&lt;/code&gt;, you can refactor your code this way:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;attempt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_if_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a, b and c can't be all NULL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error: a, b and c can't be all NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Mappers can also be used&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a must be over 5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error: a must be over 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To handle all cases, there is a series of function combining &lt;code class=&quot;highlighter-rouge&quot;&gt;stop_if&lt;/code&gt; /
&lt;code class=&quot;highlighter-rouge&quot;&gt;warn_if&lt;/code&gt; / &lt;code class=&quot;highlighter-rouge&quot;&gt;message_if&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;all&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;any&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;none&lt;/code&gt;. See &lt;code class=&quot;highlighter-rouge&quot;&gt;?stop_if&lt;/code&gt; for a
list of all functions.&lt;/p&gt;

&lt;p&gt;The idea being of course that if you have a series of tests, this can
drastically reduce the amount of code at the beginning of the function,
and make it more readable on the long run. So you can refactor this:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a, b and c can't be all NULL\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;logical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;using input below 5 is not recommended\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;No input equal to 13\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Do things&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in this(): a, b and c can't be all NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Warning in this(a = 3): using input below 5 is not recommended

## No input equal to 13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## No input equal to 13
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To this:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_if_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a, b and c can't be all NULL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warn_if_any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;using input below 5 is not recommended&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message_if_none&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;No input equal to 13&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Do things&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;attempt()&lt;/code&gt; function, along with &lt;code class=&quot;highlighter-rouge&quot;&gt;try_catch&lt;/code&gt;, are friendlier version
of &lt;code class=&quot;highlighter-rouge&quot;&gt;try()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;tryCatch()&lt;/code&gt;. They behave exactly like the base
functions, but provide an easier interface. For example, if you need to
try something and throw a message if it fails, with base, you’ll do:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silent&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;==&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;try-error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;There was an error in your code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in eval(expr, envir, enclos): There was an error in your code
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;attempt()&lt;/code&gt; provides a concise way to send a message on error:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;attempt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;There was an error in your code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error: There was an error in your code
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adverbs, finally, transform functions behavior:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;silently&lt;/code&gt; returns nothing unless an error occurs&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;silent_log&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silently&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silent_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;silent_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error in .f(...) : non-numeric argument to mathematical function
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;surely&lt;/code&gt; will wrap the function in an &lt;code class=&quot;highlighter-rouge&quot;&gt;attempt&lt;/code&gt; call:&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sure_log&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;surely&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sure_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sure_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error: non-numeric argument to mathematical function
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;with_message()&lt;/code&gt; / &lt;code class=&quot;highlighter-rouge&quot;&gt;with_warning()&lt;/code&gt; &amp;amp; &lt;code class=&quot;highlighter-rouge&quot;&gt;without_message()&lt;/code&gt; /
&lt;code class=&quot;highlighter-rouge&quot;&gt;without_warning()&lt;/code&gt; / &lt;code class=&quot;highlighter-rouge&quot;&gt;discretly()&lt;/code&gt; functions add or remove messages
and
warnings:&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ncol&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Warning in matrix(1:3, ncol = 2): data length [3] is not a sub-multiple or
## multiple of the number of rows [2]

##      [,1] [,2]
## [1,]    1    3
## [2,]    2    1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;no_warning_matrix&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;without_warning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;no_warning_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ncol&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##      [,1] [,2]
## [1,]    1    3
## [2,]    2    1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;know-more&quot;&gt;Know more&lt;/h2&gt;

&lt;p&gt;See the &lt;a href=&quot;https://github.com/ColinFay/attempt&quot;&gt;GitHub repo&lt;/a&gt; for more.&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">Last week, a new version of {attempt} was published on CRAN. This version includes some improvements in the current code base, and the addition of new functions. You can get it with our old friend install.packages install.packages(&quot;attempt&quot;) News in version 0.3.0 library(attempt) packageVersion(&quot;attempt&quot;) ## [1] '0.3.0' Newcomers in this version: The is_try_error() function, that tests if an object is of class “try-error”. x &amp;lt;- attempt(log(letters), silent = TRUE) is_try_error(x) ## [1] TRUE The on_error() function, that behaves as on.exit() except it happens only when there is an error in the function, and can for example be used to write logs to a file. y &amp;lt;- function(x){ on_error(~ print(&quot;ouch&quot;)) # or on_error(~ write(&quot;error&quot;, &quot;error.logs&quot;)) log(x) } y(12) y(&quot;a&quot;) [1] 2.484907 Error in log(x) : non-numeric argument to mathematical function [1] &quot;ouch&quot; discretly(), for removing warnings and message. y &amp;lt;- function(x){ warning(&quot;ouch\n&quot;) message(&quot;bla&quot;) x * 10 } y(10) ## Warning in y(10): ouch ## bla ## [1] 100 discrete_y &amp;lt;- discretly(y) discrete_y(10) ## [1] 100 About {attempt} {attempt} is a package that provides a series of tools for defensive programming. It’s mainly designed for (package) developers, as it provides easier ways to handle exceptions and to manipulate functions for messages, warnings and errors. It’s also a very lightweight package, as it only depends on {rlang}, which itself has no dependencies. For example, let’s say you have a function that needs at least one argument to be not-null. You would be tempted to write something like this: this &amp;lt;- function(a = NULL, b = NULL, c = NULL){ if (all(is.null(a), is.null(b), is.null(c))){ stop(&quot;a, b and c can't be all NULL&quot;) } list(a, b, c) } this() ## Error in this(): a, b and c can't be all NULL # Or this &amp;lt;- function(a = NULL, b = NULL, c = NULL){ if (all(vapply(c(a, b, c), is.null, logical(1)))){ stop(&quot;a, b and c can't be all NULL&quot;) } list(a, b, c) } this() ## Error in this(): a, b and c can't be all NULL this(a = 1) ## [[1]] ## [1] 1 ## ## [[2]] ## NULL ## ## [[3]] ## NULL With {attempt}, you can refactor your code this way: library(attempt) this &amp;lt;- function(a = NULL, b = NULL, c = NULL){ stop_if_all(c(a, b, c), is.null, &quot;a, b and c can't be all NULL&quot;) list(a, b, c) } this() ## Error: a, b and c can't be all NULL # Mappers can also be used this &amp;lt;- function(a){ stop_if(a, ~ .x &amp;lt; 5, &quot;a must be over 5&quot;) } this(1) ## Error: a must be over 5 To handle all cases, there is a series of function combining stop_if / warn_if / message_if &amp;amp; all, any and none. See ?stop_if for a list of all functions. The idea being of course that if you have a series of tests, this can drastically reduce the amount of code at the beginning of the function, and make it more readable on the long run. So you can refactor this: this &amp;lt;- function(a = NULL, b = NULL, c = NULL){ if (all(is.null(a), is.null(b), is.null(c))){ stop(&quot;a, b and c can't be all NULL\n&quot;) } if (any(vapply(c(a, b, c), function(x) x &amp;lt; 5, logical(1)))){ warning(&quot;using input below 5 is not recommended\n&quot;) } if (!any(c(a == 13, b == 13, c == 13))){ message(&quot;No input equal to 13\n&quot;) } # Do things } this() ## Error in this(): a, b and c can't be all NULL this(a = 3) ## Warning in this(a = 3): using input below 5 is not recommended ## No input equal to 13 this(a = 10) ## No input equal to 13 To this: this &amp;lt;- function(a = NULL, b = NULL, c = NULL){ stop_if_all(c(a, b, c), is.null, &quot;a, b and c can't be all NULL&quot;) warn_if_any(c(a, b, c), ~ .x &amp;lt; 5, &quot;using input below 5 is not recommended&quot;) message_if_none(c(a, b, c), ~ .x == 13, &quot;No input equal to 13&quot;) # Do things } The attempt() function, along with try_catch, are friendlier version of try() and tryCatch(). They behave exactly like the base functions, but provide an easier interface. For example, if you need to try something and throw a message if it fails, with base, you’ll do: x &amp;lt;- try(log(&quot;a&quot;), silent = TRUE) if (class(x)[1] == &quot;try-error&quot;){ stop(&quot;There was an error in your code&quot;) } ## Error in eval(expr, envir, enclos): There was an error in your code attempt() provides a concise way to send a message on error: attempt(log(&quot;a&quot;), &quot;There was an error in your code&quot;) ## Error: There was an error in your code Adverbs, finally, transform functions behavior: silently returns nothing unless an error occurs silent_log &amp;lt;- silently(log) silent_log(1) silent_log(&quot;a&quot;) ## Error in .f(...) : non-numeric argument to mathematical function surely will wrap the function in an attempt call: sure_log &amp;lt;- surely(log) sure_log(1) ## [1] 0 sure_log(&quot;a&quot;) ## Error: non-numeric argument to mathematical function The with_message() / with_warning() &amp;amp; without_message() / without_warning() / discretly() functions add or remove messages and warnings: matrix(1:3, ncol = 2) ## Warning in matrix(1:3, ncol = 2): data length [3] is not a sub-multiple or ## multiple of the number of rows [2] ## [,1] [,2] ## [1,] 1 3 ## [2,] 2 1 no_warning_matrix &amp;lt;- without_warning(matrix) no_warning_matrix(1:3, ncol = 2) ## [,1] [,2] ## [1,] 1 3 ## [2,] 2 1 Know more See the GitHub repo for more.</summary></entry><entry><title type="html">See you at useR! Toulouse</title><link href="http://localhost:4000/see-you-user-2019" rel="alternate" type="text/html" title="See you at useR! Toulouse" /><published>2019-03-31T00:00:00+01:00</published><updated>2019-03-31T00:00:00+01:00</updated><id>http://localhost:4000/see-you-user</id><content type="html" xml:base="http://localhost:4000/see-you-user-2019">&lt;p&gt;Hey all, just a quick post to give you some details about my workshop at useR! 2019, in Toulouse!&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;hacking-rstudio-advanced-use-of-your-favorite-ide&quot;&gt;Hacking RStudio: Advanced Use of your Favorite IDE&lt;/h2&gt;

&lt;h3 id=&quot;about&quot;&gt;About&lt;/h3&gt;

&lt;p&gt;Have you ever wanted to become more productive with RStudio? Then this workshop is made for you!&lt;/p&gt;

&lt;p&gt;You’ve been wandering the web for a while now, reading about all the things the cool kids do with RStudio:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;building addins &amp;amp; playing around with the &lt;code class=&quot;highlighter-rouge&quot;&gt;{rstudioapi}&lt;/code&gt; package, like for example what we do in &lt;a href=&quot;https://github.com/ThinkR-open/remedy&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{remedy}&lt;/code&gt;&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;using project templates, like the one in &lt;a href=&quot;https://github.com/ThinkR-open/golem&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{golem}&lt;/code&gt;&lt;/a&gt;,&lt;/li&gt;
  &lt;li&gt;managing connections, like the (just for fun) package I wrote called &lt;a href=&quot;https://github.com/ColinFay/fryingpane&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{fryingpane}&lt;/code&gt;&lt;/a&gt;…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All this seems pretty nifty but so far you have never find the time to sit down and learn how to master these skills. Then, you’ve come to the right place — my useR workshop will teach you how to push the boundaries of your basic RStudio usage, in order to become more efficient in your day to day usage of RStudio.&lt;/p&gt;

&lt;h3 id=&quot;target-audience&quot;&gt;Target audience&lt;/h3&gt;

&lt;p&gt;We expect people to be familiar with RStudio, and have a little knowledge about programming with R. Knowing how to build a package will be better, but is not mandatory.&lt;/p&gt;

&lt;h3 id=&quot;instruction&quot;&gt;Instruction&lt;/h3&gt;

&lt;p&gt;Please come with a recent version of RStudio installed.&lt;/p&gt;

&lt;h2 id=&quot;sign-up-for-user&quot;&gt;Sign up for useR&lt;/h2&gt;

&lt;p&gt;useR! 2019 will be hold from the 9th to the 12th of July, in Toulouse.&lt;/p&gt;

&lt;p&gt;Early birds close soon (May 7th), so hurry ;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.user2019.fr/registration/&quot;&gt;http://www.user2019.fr/registration/&lt;/a&gt;&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">Hey all, just a quick post to give you some details about my workshop at useR! 2019, in Toulouse!</summary></entry><entry><title type="html">Watch if R is running from Shiny</title><link href="http://localhost:4000/watch-r-shiny/" rel="alternate" type="text/html" title="Watch if R is running from Shiny" /><published>2019-01-29T00:00:00+01:00</published><updated>2019-01-29T00:00:00+01:00</updated><id>http://localhost:4000/watching-r-shiny</id><content type="html" xml:base="http://localhost:4000/watch-r-shiny/">&lt;p&gt;Today I discovered that the &lt;code class=&quot;highlighter-rouge&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;&lt;/code&gt; tag of a Shiny App gets the
&lt;code class=&quot;highlighter-rouge&quot;&gt;shiny-busy&lt;/code&gt; class when computation is done in the R process. Which
means that you can potentially watch with JavaScript if the R process is
running.&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot;&gt;

&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;

TIL — Shiny Apps switch to the ‘shiny-busy’ class when R is performing
computation in the background. &lt;br /&gt;So it's basically possible to use
JavaScript to watch if the R session is doing computation or not.
&lt;a href=&quot;https://twitter.com/hashtag/RStats?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;\#RStats&lt;/a&gt;
&lt;a href=&quot;https://twitter.com/hashtag/RShiny?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;\#RShiny&lt;/a&gt;
&lt;a href=&quot;https://t.co/dz2XgOXxVQ&quot;&gt;pic.twitter.com/dz2XgOXxVQ&lt;/a&gt;

&lt;/p&gt;

— Colin Fay 🤘 (@\_ColinFay)
&lt;a href=&quot;https://twitter.com/_ColinFay/status/1090289885108469760?ref_src=twsrc%5Etfw&quot;&gt;January
29,
2019&lt;/a&gt;

&lt;/blockquote&gt;

&lt;script async=&quot;&quot; src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;It’s pretty subtle and you have to be watching the html source code of
your app while it is running, so I guess few people other than me enjoy
doing that.&lt;/p&gt;

&lt;h3 id=&quot;a-poc&quot;&gt;A POC&lt;/h3&gt;

&lt;p&gt;Here’s a POC of an application that shows a spinner every time R is
running (well, it checks every 50 milliseconds if R is running, and if
it is, shows the loader).&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shiny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ui&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fluidPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'function checkifrunning() {
      var is_running = $(&quot;html&quot;).attr(&quot;class&quot;).includes(&quot;shiny-busy&quot;);
      if (is_running){
        $(&quot;#loading&quot;).show()
      } else {
        $(&quot;#loading&quot;).hide()
      }
    }; 
    setInterval(checkifrunning, 50)'&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot; body { text-align:center; }

    #loading {
      display: inline-block;
      border: 3px solid #f3f3f3; 
      border-top: 3px solid #3498db; 
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;actionButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Simulate long process 1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;actionButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Simulate long process 2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;actionButton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;go3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Simulate long process 3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;nbsp;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;column&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;loading&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'$(&quot;#loading&quot;).hide()'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;observeEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;go1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;observeEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;go2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;observeEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;go3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shinyApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Result:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/shinyspin.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Why do that? Well, don’t. Here we just have a loader that pops up every
time R is running, which is kind of brutal (and I’m not 100 % certain we
can rely on this class change). Also, in my example, the JS code is run
every 50 milliseconds… which is even more brutal. But in case it can be
useful (or inspiring) to someone, I just wanted to share :).&lt;/p&gt;

&lt;p&gt;And of course, with more hacking, this can ne combined with other JS &amp;amp; R
code to make a smarter spinner.&lt;/p&gt;

&lt;h3 id=&quot;about-the-code-&quot;&gt;About the code :&lt;/h3&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkifrunning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;is_running&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shiny-busy&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is_running&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#loading&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#loading&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt; 
&lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkifrunning&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I’m creating a function called &lt;code class=&quot;highlighter-rouge&quot;&gt;checkifrunning()&lt;/code&gt;, that checks if the
class of the &lt;code class=&quot;highlighter-rouge&quot;&gt;html&lt;/code&gt; tag contains &lt;code class=&quot;highlighter-rouge&quot;&gt;shiny-busy&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;show()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;hide()&lt;/code&gt;
the &lt;code class=&quot;highlighter-rouge&quot;&gt;loading&lt;/code&gt; div if ever it is.&lt;/p&gt;

&lt;p&gt;With &lt;code class=&quot;highlighter-rouge&quot;&gt;setInterval(checkifrunning, 50)&lt;/code&gt;, I’m setting this function to be
run every 50 milliseconds.&lt;/p&gt;

&lt;p&gt;The loading CSS and div is inspired by the &lt;a href=&quot;https://www.w3schools.com/howto/howto_css_loader.asp&quot;&gt;W3
tuto&lt;/a&gt;, with a
little bit of tweaking.&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">Today I discovered that the &amp;lt;html&amp;gt; tag of a Shiny App gets the shiny-busy class when computation is done in the R process. Which means that you can potentially watch with JavaScript if the R process is running. TIL — Shiny Apps switch to the ‘shiny-busy’ class when R is performing computation in the background. So it's basically possible to use JavaScript to watch if the R session is doing computation or not. \#RStats \#RShiny pic.twitter.com/dz2XgOXxVQ — Colin Fay 🤘 (@\_ColinFay) January 29, 2019 It’s pretty subtle and you have to be watching the html source code of your app while it is running, so I guess few people other than me enjoy doing that. A POC Here’s a POC of an application that shows a spinner every time R is running (well, it checks every 50 milliseconds if R is running, and if it is, shows the loader). library(shiny) ui &amp;lt;- fluidPage( tags$script( 'function checkifrunning() { var is_running = $(&quot;html&quot;).attr(&quot;class&quot;).includes(&quot;shiny-busy&quot;); if (is_running){ $(&quot;#loading&quot;).show() } else { $(&quot;#loading&quot;).hide() } }; setInterval(checkifrunning, 50)' ), tags$style( &quot; body { text-align:center; } #loading { display: inline-block; border: 3px solid #f3f3f3; border-top: 3px solid #3498db; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s ease-in-out infinite; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }&quot; ), column(12, actionButton(&quot;go1&quot;, &quot;Simulate long process 1&quot;)), column(12, actionButton(&quot;go2&quot;, &quot;Simulate long process 2&quot;)), column(12, actionButton(&quot;go3&quot;, &quot;Simulate long process 3&quot;)), HTML(&quot;&amp;amp;nbsp;&quot;), column(12, tags$div(id = &quot;loading&quot;, tags$script('$(&quot;#loading&quot;).hide()'))) ) server &amp;lt;- function(input, output, session) { observeEvent(input$go1, { for (i in 1:15) { print(i) Sys.sleep(0.1) } }) observeEvent(input$go2, { for (i in 1:15) { print(i) Sys.sleep(0.1) } }) observeEvent(input$go3, { for (i in 1:5) { print(i) Sys.sleep(0.1) } }) } shinyApp(ui, server) Result: Why do that? Well, don’t. Here we just have a loader that pops up every time R is running, which is kind of brutal (and I’m not 100 % certain we can rely on this class change). Also, in my example, the JS code is run every 50 milliseconds… which is even more brutal. But in case it can be useful (or inspiring) to someone, I just wanted to share :). And of course, with more hacking, this can ne combined with other JS &amp;amp; R code to make a smarter spinner. About the code : function checkifrunning() { var is_running = $(&quot;html&quot;).attr(&quot;class&quot;).includes(&quot;shiny-busy&quot;); if (is_running){ $(&quot;#loading&quot;).show() } else { $(&quot;#loading&quot;).hide() } }; setInterval(checkifrunning, 50); I’m creating a function called checkifrunning(), that checks if the class of the html tag contains shiny-busy, and show() and hide() the loading div if ever it is. With setInterval(checkifrunning, 50), I’m setting this function to be run every 50 milliseconds. The loading CSS and div is inspired by the W3 tuto, with a little bit of tweaking.</summary></entry><entry><title type="html">An Introduction to Docker for R Users</title><link href="http://localhost:4000/docker-r-reproducibility/" rel="alternate" type="text/html" title="An Introduction to Docker for R Users" /><published>2019-01-06T00:00:00+01:00</published><updated>2019-01-06T00:00:00+01:00</updated><id>http://localhost:4000/docker-r-reproducibility</id><content type="html" xml:base="http://localhost:4000/docker-r-reproducibility/">&lt;p&gt;A quick introduction on using Docker for reproducibility in R.&lt;/p&gt;

&lt;!--more--&gt;

&lt;blockquote&gt;
  &lt;p&gt;Disclaimer: this blog post is an introduction to Docker for beginners,
and will takes some shortcuts ;)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;what-is-docker&quot;&gt;What is Docker?&lt;/h2&gt;

&lt;p&gt;Docker is “a computer program that performs operating-system-level
virtualization, also known as ‘containerization’”
&lt;a href=&quot;https://en.wikipedia.org/wiki/Docker_\(software\)&quot;&gt;Wikipedia&lt;/a&gt;. As any
first line of a Wikipedia article about tech, this sentence is obscure
to anyone not already familiar with the content of the article.&lt;/p&gt;

&lt;p&gt;So, to put it more simply, &lt;strong&gt;Docker is a program that allows to
manipulate (launch and stop) multiple operating systems (called
containers) on your machine (your machine will be called the host)&lt;/strong&gt;.
Just imagine having 10 RaspberryPi with different flavors of Linux, each
focused on doing one simple thing, that you can turn on and off whenever
you need to ; but all of this happens on your computer.&lt;/p&gt;

&lt;h2 id=&quot;why-docker--r&quot;&gt;Why Docker &amp;amp; R?&lt;/h2&gt;

&lt;p&gt;Docker is designed to enclose environments inside an image / a
container. What this allows, for example, is to have a Linux machine on
a Macbook, or a machine with R 3.3 when your main computer has R 3.5.
Also, this means that &lt;strong&gt;you can use older versions of a package for a
specific task, while still keeping the package on your machine
up-to-date&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;This way, you can “solve” dependencies issues: if ever you are afraid
dependencies will break your analysis when packages are updated, build a
container that will &lt;strong&gt;always&lt;/strong&gt; have the software versions you desire: be
it Linux, R, or any package.&lt;/p&gt;

&lt;h2 id=&quot;docker-images-vs-docker-containers&quot;&gt;Docker images vs Docker containers&lt;/h2&gt;

&lt;p&gt;On your machine, you’re going to need two things: images, and
containers. &lt;strong&gt;Images are the definition of the OS, while the containers
are the actual running instances of the images&lt;/strong&gt;. You’ll need to install
the image just once, while the containers are to be launched whenever
you need this instance. And of course, multiple containers of the same
images can be run at the same time.&lt;/p&gt;

&lt;p&gt;To compare with R, this is the same principle as installing vs loading a
package: a package is to be downloaded once, while it has to be launched
every time you need it. And a package can be launched in several R
sessions at the same time easily.&lt;/p&gt;

&lt;p&gt;So to continue with this metaphore: we’re &lt;strong&gt;building&lt;/strong&gt; an image when
we’re &lt;code class=&quot;highlighter-rouge&quot;&gt;install.packages()&lt;/code&gt;, and we &lt;strong&gt;run&lt;/strong&gt; the image when we
&lt;code class=&quot;highlighter-rouge&quot;&gt;library()&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;dockerfile&quot;&gt;Dockerfile&lt;/h2&gt;

&lt;p&gt;A Docker image is built from a &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;. This file is the
configuration file, and describes several things: from what previous
docker image you are building this one, how to configure the OS, and
what happens when you &lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt; the container. In a sense, it’s a little bit
like the &lt;code class=&quot;highlighter-rouge&quot;&gt;DESCRIPTION&lt;/code&gt; + &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt; files of an R package, which
describes which are the dependencies to your package, gives meta
information, and states which functions and data are to be available to
the users &lt;code class=&quot;highlighter-rouge&quot;&gt;library()&lt;/code&gt;ing the package.&lt;/p&gt;

&lt;p&gt;So, let’s build a &lt;strong&gt;very basic&lt;/strong&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; for R, focused on
reproducibility. The idea is this one: I have today an analysis that
works (for example contained in a &lt;code class=&quot;highlighter-rouge&quot;&gt;.R&lt;/code&gt; file), and I want to be sure this
analysis will always work in the future, regardless of any update to the
packages used.&lt;/p&gt;

&lt;p&gt;So first, create a folder for your analysis, and a Dockerfile:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mkdir ~/mydocker
cd ~/mydocker
touch Dockerfile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And let’s say this is the content of the analysis we want to run, called
&lt;code class=&quot;highlighter-rouge&quot;&gt;myscript.R&lt;/code&gt;, and located in the &lt;code class=&quot;highlighter-rouge&quot;&gt;~/mydocker&lt;/code&gt; folder:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidystringdist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy_comb_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iris&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tidy_stringdist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write.csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;p.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;from&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Every &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; starts with a &lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt;, which describes what image we
are building our image from. There are a lot of official images, and you
can also build from a local one.&lt;/p&gt;

&lt;p&gt;This &lt;code class=&quot;highlighter-rouge&quot;&gt;FROM&lt;/code&gt; is, in a way, describing the dependency of your image ; just
as in R, when building a package, you always rely on another package (be
it only the &lt;code class=&quot;highlighter-rouge&quot;&gt;{base}&lt;/code&gt; package).&lt;/p&gt;

&lt;p&gt;If you’re going for an R based image, Dirk Eddelbuettel &amp;amp; Carl Boettiger
are maintaining &lt;a href=&quot;https://hub.docker.com/u/rocker&quot;&gt;rocker&lt;/a&gt;, a collection
of Docker images for R you can use. The basic image is &lt;code class=&quot;highlighter-rouge&quot;&gt;rocker/r-base&lt;/code&gt;,
but what we want is our image to be reproducible: that is to say to
rerun the exact same way anytime we run it. For this, we’ll be using
&lt;code class=&quot;highlighter-rouge&quot;&gt;rocker/r-ver&lt;/code&gt;, which are Docker images containing fixed version of R
(back to 3.1.0), and that you can run as if from a specific date (thanks
to &lt;a href=&quot;http://dirk.eddelbuettel.com/&quot;&gt;Dirk Eddelbuettel&lt;/a&gt; for pointing that
to me).&lt;/p&gt;

&lt;p&gt;So what we’ll do is look up for the image corresponding to the R version
we want. You can get your current R Version with:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;R.Version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version.string&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;R version 3.4.4 (2018-03-15)&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, let’s start the &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; with:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;run&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;RUN&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Once we’ve got that, we’ll add some &lt;code class=&quot;highlighter-rouge&quot;&gt;RUN&lt;/code&gt; statements: these are commands
which mimic command line commands. we’ll create a directory to receive
our analysis.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

RUN mkdir /home/analysis
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;install-our-package&quot;&gt;Install our package&lt;/h3&gt;

&lt;p&gt;The command to make R execute something, from the terminal, is &lt;code class=&quot;highlighter-rouge&quot;&gt;R -e &quot;my
code&quot;&lt;/code&gt;. Let’s use it to install our script dependencies, but from a
specific date. We’ll mimic the way &lt;code class=&quot;highlighter-rouge&quot;&gt;rocker/r-ver&lt;/code&gt; works when building
from a specific date: setting the &lt;code class=&quot;highlighter-rouge&quot;&gt;options(&quot;repos&quot;)&lt;/code&gt; to this specific
date, using the MRAN image: in other word, using a repo url like
&lt;code class=&quot;highlighter-rouge&quot;&gt;https://mran.microsoft.com/snapshot/1979-01-01&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

RUN mkdir /home/analysis

RUN R -e &quot;options(repos = \
  list(CRAN = 'http://mran.revolutionanalytics.com/snapshot/2019-01-06/')); \
  install.packages('tidystringdist')&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;aside--making-it-more-programmable-with-arg&quot;&gt;Aside : making it more programmable with &lt;code class=&quot;highlighter-rouge&quot;&gt;ARG&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;In our last &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt;, the date can’t be modified at build time -
something we can change if we use an &lt;code class=&quot;highlighter-rouge&quot;&gt;ARG&lt;/code&gt; variable, that will be set
when we’ll do &lt;code class=&quot;highlighter-rouge&quot;&gt;docker build&lt;/code&gt;, with &lt;code class=&quot;highlighter-rouge&quot;&gt;--build-arg WHEN=&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

ARG WHEN

RUN mkdir /home/analysis

RUN R -e &quot;options(repos = \
  list(CRAN = 'http://mran.revolutionanalytics.com/snapshot/${WHEN}')); \
  install.packages('tidystringdist')&quot;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, the &lt;code class=&quot;highlighter-rouge&quot;&gt;{tidystringdist}&lt;/code&gt; that will be installed in the machine will
be the one from the date we will specify when building the container,
even if we build this image in one year, or two, or four.&lt;/p&gt;

&lt;h3 id=&quot;copy&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;COPY&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Now, I need to get the script for my analysis from my machine (host) to
the container. For that, we’ll need to use &lt;code class=&quot;highlighter-rouge&quot;&gt;COPY localfile
pathinthecontainer&lt;/code&gt;. Note that here, the &lt;code class=&quot;highlighter-rouge&quot;&gt;myscript.R&lt;/code&gt; has to be in the
same folder as the &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; on your computer.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

ARG WHEN

RUN mkdir /home/analysis

RUN R -e &quot;options(repos = \
  list(CRAN = 'http://mran.revolutionanalytics.com/snapshot/${WHEN}')); \
  install.packages('tidystringdist')&quot;

COPY myscript.R /home/analysis/myscript.R
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;cmd&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;CMD&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Now, &lt;code class=&quot;highlighter-rouge&quot;&gt;CMD&lt;/code&gt;, which the command to be run every time you’ll launch the
docker. What we want is &lt;code class=&quot;highlighter-rouge&quot;&gt;myscript.R&lt;/code&gt; to be sourced.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

ARG WHEN

RUN mkdir /home/analysis

RUN R -e &quot;options(repos = \
  list(CRAN = 'http://mran.revolutionanalytics.com/snapshot/${WHEN}')); \
  install.packages('tidystringdist')&quot;

COPY myscript.R /home/analysis/myscript.R

CMD R -e &quot;source('/home/analysis/myscript.R')&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;build-and-run&quot;&gt;Build, and run&lt;/h2&gt;

&lt;h3 id=&quot;build&quot;&gt;Build&lt;/h3&gt;

&lt;p&gt;Remember what we want: an image that will, ad vitam aeternam, run an
analysis as if we were still today. To do this, we’ll use the
&lt;code class=&quot;highlighter-rouge&quot;&gt;--build-arg WHEN=&lt;/code&gt; argument for the &lt;code class=&quot;highlighter-rouge&quot;&gt;docker build&lt;/code&gt;. Just after the &lt;code class=&quot;highlighter-rouge&quot;&gt;=&lt;/code&gt;,
put the date you want your analysis to be run from.&lt;/p&gt;

&lt;p&gt;Now, go and build your image. From your terminal, in the directory where
the Dockerfile is located, run:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker build --build-arg WHEN=2019-01-06 -t analysis .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;-t name&lt;/code&gt; is the name of the image (here analysis), and &lt;code class=&quot;highlighter-rouge&quot;&gt;.&lt;/code&gt; means it
will build the &lt;code class=&quot;highlighter-rouge&quot;&gt;Dockerfile&lt;/code&gt; in the current working directory.&lt;/p&gt;

&lt;h3 id=&quot;run-1&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;run&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Then, just launch with:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run analysis 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And your analysis will be run 🎉!&lt;/p&gt;

&lt;h2 id=&quot;export-container-content&quot;&gt;Export container content&lt;/h2&gt;

&lt;p&gt;One thing to do now: you want to access what is created by your analysis
(here &lt;code class=&quot;highlighter-rouge&quot;&gt;p.csv&lt;/code&gt;) outside your container ; i.e, on the host. Because yes,
as for now, everything that happens in the container stays in the
container. &lt;strong&gt;So what we need is to make the docker container share a
folder with the host. For this, we’ll use what is called Volume, which
are (roughly speaking), a way to tell the Docker container to use a
folder from the host as a folder inside the container&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;That way, everything that will be created in the folder by the container
will persist after the container is turned off. To do this, we’ll use
the -v flag when running the container, with
&lt;code class=&quot;highlighter-rouge&quot;&gt;path/from/host:/path/in/container&lt;/code&gt;. Also, create a folder to receive
the results in both :&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

ARG WHEN

RUN mkdir /home/analysis

RUN R -e &quot;options(repos = \
  list(CRAN = 'http://mran.revolutionanalytics.com/snapshot/${WHEN}')); \
  install.packages('tidystringdist')&quot;

COPY myscript.R /home/analysis/myscript.R

CMD cd /home/analysis \
  &amp;amp;&amp;amp; R -e &quot;source('myscript.R')&quot; \
  &amp;amp;&amp;amp; mv /home/analysis/p.csv /home/results/p.csv

mkdir ~/mydocker/results 
docker run -v ~/mydocker/results:/home/results  analysis 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Wait for the computation to be done, and…&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ls ~/mydocker/results  
p.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;🤘&lt;/p&gt;

&lt;h2 id=&quot;what-to-do-next&quot;&gt;What to do next?&lt;/h2&gt;

&lt;p&gt;So now, every time you’ll launch this Docker image, the analysis will be
performed and you’ll get the result back. With no problem of
dependencies: the packages will always be installed from the day you
desire. Although, this can be a little bit long to run as the packages
are installed each time you run the container. But as I said in the
Disclaimer, this is a basic introduction to Docker, R and
reproducibility, so the goal was more to get beginners on board with
Docker :)&lt;/p&gt;

&lt;p&gt;Other things you can do would be:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;remotes::install_version()&lt;/code&gt; if you want your analysis to be
based on package version instead of a time based installation.&lt;/li&gt;
&lt;/ul&gt;

&lt;!-- end list --&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FROM rocker/r-ver:3.4.4

RUN R -e &quot;install.packages('remotes'); \
  remotes::install_version('tidystringdist', '0.1.2')&quot;

...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Use the Volume trick to bring data &lt;strong&gt;into&lt;/strong&gt; your container, so that
any data will be analysed in the very same environment.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And other cool stuffs, but that’s for another blog post ;)&lt;/p&gt;

&lt;h2 id=&quot;know-more-about-docker&quot;&gt;Know more about Docker&lt;/h2&gt;

&lt;p&gt;Some resources:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.rocker-project.org/&quot;&gt;rocker official website&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://journal.r-project.org/archive/2017/RJ-2017-065/index.html&quot;&gt;An Introduction to Rocker: Docker Containers for
R&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/noamross/nyhackr-docker-talk&quot;&gt;Noam Ross - Docker for the
UseR&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=lfG8cTqRRNA&quot;&gt;Production-ready R: Getting started with R and
docker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=JOIKy_89c-o&quot;&gt;Applications with R and
Docker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docker-curriculum.com/&quot;&gt;Docker for beginners&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Reading list:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2VWfXs6&quot;&gt;Docker: Up &amp;amp; Running: Shipping Reliable Containers in
Production&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2wqpNZ0&quot;&gt;Docker in Practice&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2wqiIaQ&quot;&gt;Using Docker: Developing and Deploying Software with
Containers&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://amzn.to/2WfsoV3&quot;&gt;Building Microservices: Designing Fine-Grained
Systems&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">A quick introduction on using Docker for reproducibility in R.</summary></entry><entry><title type="html">2018 through {cranlogs}</title><link href="http://localhost:4000/12-months-cranlogs/" rel="alternate" type="text/html" title="2018 through {cranlogs}" /><published>2019-01-02T00:00:00+01:00</published><updated>2019-01-02T00:00:00+01:00</updated><id>http://localhost:4000/12-months-cranlogs</id><content type="html" xml:base="http://localhost:4000/12-months-cranlogs/">&lt;p&gt;2018 at glance with &lt;code class=&quot;highlighter-rouge&quot;&gt;{cranlogs}&lt;/code&gt;.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Let’s load the necessary packages.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cranlogs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lubridate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## 
## Attaching package: 'lubridate'

## The following objects are masked from 'package:data.table':
## 
##     hour, isoweek, mday, minute, month, quarter, second, wday,
##     week, yday, year

## The following object is masked from 'package:base':
## 
##     date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;magrittr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;all-downloads&quot;&gt;All downloads&lt;/h2&gt;

&lt;p&gt;We’ll use &lt;code class=&quot;highlighter-rouge&quot;&gt;{cranlogs}&lt;/code&gt; to retrieve the data from the RStudio CRAN
mirror.&lt;/p&gt;

&lt;p&gt;First, the number of package downloads by day in 2018.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cran_downloads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2018-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2018-12-31&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Turn to a data.table&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setDT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# Round the date to month and week&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;`:=`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;week&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How many download in total?&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##        total
## 1: 614548197
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s plot this:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viridis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Packages downloads by Week on RStudio CRAN mirror&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data via {cranlogs}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;week&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_minimal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/unnamed-chunk-4-1.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_dl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Packages downloads by Month on RStudio CRAN mirror&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data via {cranlogs}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_minimal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/unnamed-chunk-4-2.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;h2 id=&quot;r-download&quot;&gt;R download&lt;/h2&gt;

&lt;p&gt;Let’s now have a look at the number of downloads for R itself:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cran_downloads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2018-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2018-12-31&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setDT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;`:=`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;week&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;How many download in total?&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##      total
## 1: 1041727
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Plotting this:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_week&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R downloads by Week on RStudio CRAN mirror&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data via {cranlogs}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;week&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_minimal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/unnamed-chunk-7-1.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;round_month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R downloads by Month on RStudio CRAN mirror&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data via {cranlogs}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_minimal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/unnamed-chunk-7-2.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;p&gt;Let’s have a look to the number of download by R
version:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decreasing&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##          version  count
##  1:        3.5.1 464837
##  2:        3.4.3 174665
##  3:        3.5.0 137886
##  4:        3.4.4 107124
##  5:       latest  32642
##  6: 3.5.1patched  32119
##  7:        3.3.3  27992
##  8:        3.5.2  21645
##  9:        devel   8543
## 10:        3.2.4   4814
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##        version count
##  1:    3.5.1rc     2
##  2:  3.5.2beta     2
##  3:    3.5.2rc     6
##  4:  3.5.0beta     8
##  5:    3.4.4rc    11
##  6: 3.5.0alpha    11
##  7:    3.5.0rc    12
##  8:      2.6.1    13
##  9:      2.8.0    16
## 10:      2.2.1    17
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decreasing&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geom_col&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;random_viridis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10 most downloaded R versions in 2018 on RStudio CRAN mirror&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subtitle&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data via {cranlogs}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_minimal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../assets/img/unnamed-chunk-8-1.png&quot; alt=&quot;&quot; /&gt;&lt;!-- --&gt;&lt;/p&gt;

&lt;p&gt;And by os:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;total_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##     os  total
## 1: osx 228573
## 2: win 767319
## 3: src  42725
## 4:  NA   3110
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And a happy new year 🎉🎉&lt;/p&gt;</content><author><name>Colin FAY</name><email>contact@colinfay.me</email></author><summary type="html">2018 at glance with {cranlogs}.</summary></entry></feed>