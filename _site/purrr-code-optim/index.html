<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.11.1 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>A Crazy Little Thing Called {purrr} - Part 5: code optimization - Colin Fay</title>
<meta name="description" content="This might not be the last time I make this Queen reference.There’s a general saying in programming that you should try to write asless code as possible. Spoiler: this is not because developers are lazy.On the contrary, concise code takes a lot of time to write. But it cansave a massive amount of time on the long run, as it creates fewer bugs,and make the code easier to maintain.As you know, I love {purrr}. Most tutorials on the web focus on theiteration part (don’t make me say what I didn’t say: the iteration toolsare incredibly poweful), yet forgetting the “programming” part of{purrr} would make you miss a lot of cool features from this package. Ihope my series of posts has convince you to dive into this “programmingwith {purrr}” world :)So, today, we’re gonna have a look at what you can do with {purrr} towrite more efficient R.Repeat after me: don’t repeat yourselfIt has been said countless time: if you copy and paste a piece of codemore than two times, you need a function. Well, I know, it’s not alwaysthat easy to find the perfect function and RStudio makes it so easy tojust copy down the line you’ve just typed. But everytime you wish to dothat, remember that this is just “adding more fuel to the bug fire”.(Ok, that might not be important if you’re just randomly trying stuffs,but let’s stay focused and imagine we’re responsable adults buildingpackages, or doing reproducible research…)Functions returning functionsR is an amazingly flexible language. Everything that exists in R is anobject, and everything that happens is due to a function. So yes,functions are objects that can turn objects into other objects.And if a function can take objects and return an object, there’s noreason these objects can’t be functions. That’s exactly what safely(seen in the first part of this series) and friends do. But today I’mhere to talk about some other functions, compose and partial.Composelibrary(tidyverse)library(broom)Have you ever been in a situation when you wrote this kind ofcode?lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Pepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Width ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% ilter(p.value &lt; 0.05)Yes, we’ve all done that. The thing is, with this kind of code, our eyesare focused on what stays the same, instead of focusing of what’schanging. And, most of all, there’s a high probability you didn’tnoticed I made a typo on line 2 (example inspired byhttp://r4ds.had.co.nz/iteration.html).And there’s also one on line 4.So here comes compose(). This function takes as arguments a series offunctions, and returns a function that will perform the series offunction successively. So here, we can turn :tidy(lm(Sepal.Length ~ Species, data = iris))intotidy_lm &lt;- compose(tidy, lm)tidy_lm(Sepal.Length ~ Species, data = iris)##                term estimate  std.error statistic       p.value## 1       (Intercept)    5.006 0.07280222 68.761639 1.134286e-113## 2 Speciesversicolor    0.930 0.10295789  9.032819  8.770194e-16## 3  Speciesvirginica    1.582 0.10295789 15.365506  2.214821e-32So yes, this is a small improvement you could say. But the thing is, onthis kind of code :tidy_fancy_calculus &lt;- compose(tidy, lm)tidy_fancy_calculus(Sepal.Length ~ Species, data = iris)tidy_fancy_calculus(Petal.Length ~ Species, data = iris)tidy_fancy_calculus(Sepal.Width ~ Species, data = iris)tidy_fancy_calculus(Petal.Width ~ Species, data = iris)I’ll just have to make a change at one spot if I need to use anotherlm-like function.*Note that the order of the function is not the a magrittr order, but a“classic” order, i.e. functions passed to compose are executed fromright to left. *And of course, you can always pass mappers in a compose :clean_lm &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     lm)clean_lm(Sepal.Length ~ Sepal.Width, data = iris)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28# and etc#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)For now formulas are not accepted as such (you need to callas_mapper), but you now, this is just a PR away ;)Less code, more rokk(Guitar Hero 2 reference)So now, we need even less code. Yes, that’s possible, thanks topartial. As its name states, this function returns a partially filledfunction. That is to say that :mean_na_rm &lt;- partial(mean, na.rm = TRUE)mean_na_rm(airquality$Ozone)## [1] 42.12931is the same as:mean(airquality$Ozone, na.rm = TRUE)## [1] 42.12931Ok, that’s not that usefull on that example, but you get the idea :)Let’s wrap upTo sum up, we need a function that will do a lm on iris, broom::tidy theresult, filter the p.value, and arrange following the p.value column.So, here it is!clean_lm_iris &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     partial(lm, data = iris))clean_lm_iris(Sepal.Length ~ Sepal.Width)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Colin Fay">
<meta property="og:title" content="A Crazy Little Thing Called {purrr} - Part 5: code optimization">
<meta property="og:url" content="http://localhost:4000/purrr-code-optim/">


  <meta property="og:description" content="This might not be the last time I make this Queen reference.There’s a general saying in programming that you should try to write asless code as possible. Spoiler: this is not because developers are lazy.On the contrary, concise code takes a lot of time to write. But it cansave a massive amount of time on the long run, as it creates fewer bugs,and make the code easier to maintain.As you know, I love {purrr}. Most tutorials on the web focus on theiteration part (don’t make me say what I didn’t say: the iteration toolsare incredibly poweful), yet forgetting the “programming” part of{purrr} would make you miss a lot of cool features from this package. Ihope my series of posts has convince you to dive into this “programmingwith {purrr}” world :)So, today, we’re gonna have a look at what you can do with {purrr} towrite more efficient R.Repeat after me: don’t repeat yourselfIt has been said countless time: if you copy and paste a piece of codemore than two times, you need a function. Well, I know, it’s not alwaysthat easy to find the perfect function and RStudio makes it so easy tojust copy down the line you’ve just typed. But everytime you wish to dothat, remember that this is just “adding more fuel to the bug fire”.(Ok, that might not be important if you’re just randomly trying stuffs,but let’s stay focused and imagine we’re responsable adults buildingpackages, or doing reproducible research…)Functions returning functionsR is an amazingly flexible language. Everything that exists in R is anobject, and everything that happens is due to a function. So yes,functions are objects that can turn objects into other objects.And if a function can take objects and return an object, there’s noreason these objects can’t be functions. That’s exactly what safely(seen in the first part of this series) and friends do. But today I’mhere to talk about some other functions, compose and partial.Composelibrary(tidyverse)library(broom)Have you ever been in a situation when you wrote this kind ofcode?lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Pepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Width ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% ilter(p.value &lt; 0.05)Yes, we’ve all done that. The thing is, with this kind of code, our eyesare focused on what stays the same, instead of focusing of what’schanging. And, most of all, there’s a high probability you didn’tnoticed I made a typo on line 2 (example inspired byhttp://r4ds.had.co.nz/iteration.html).And there’s also one on line 4.So here comes compose(). This function takes as arguments a series offunctions, and returns a function that will perform the series offunction successively. So here, we can turn :tidy(lm(Sepal.Length ~ Species, data = iris))intotidy_lm &lt;- compose(tidy, lm)tidy_lm(Sepal.Length ~ Species, data = iris)##                term estimate  std.error statistic       p.value## 1       (Intercept)    5.006 0.07280222 68.761639 1.134286e-113## 2 Speciesversicolor    0.930 0.10295789  9.032819  8.770194e-16## 3  Speciesvirginica    1.582 0.10295789 15.365506  2.214821e-32So yes, this is a small improvement you could say. But the thing is, onthis kind of code :tidy_fancy_calculus &lt;- compose(tidy, lm)tidy_fancy_calculus(Sepal.Length ~ Species, data = iris)tidy_fancy_calculus(Petal.Length ~ Species, data = iris)tidy_fancy_calculus(Sepal.Width ~ Species, data = iris)tidy_fancy_calculus(Petal.Width ~ Species, data = iris)I’ll just have to make a change at one spot if I need to use anotherlm-like function.*Note that the order of the function is not the a magrittr order, but a“classic” order, i.e. functions passed to compose are executed fromright to left. *And of course, you can always pass mappers in a compose :clean_lm &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     lm)clean_lm(Sepal.Length ~ Sepal.Width, data = iris)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28# and etc#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)For now formulas are not accepted as such (you need to callas_mapper), but you now, this is just a PR away ;)Less code, more rokk(Guitar Hero 2 reference)So now, we need even less code. Yes, that’s possible, thanks topartial. As its name states, this function returns a partially filledfunction. That is to say that :mean_na_rm &lt;- partial(mean, na.rm = TRUE)mean_na_rm(airquality$Ozone)## [1] 42.12931is the same as:mean(airquality$Ozone, na.rm = TRUE)## [1] 42.12931Ok, that’s not that usefull on that example, but you get the idea :)Let’s wrap upTo sum up, we need a function that will do a lm on iris, broom::tidy theresult, filter the p.value, and arrange following the p.value column.So, here it is!clean_lm_iris &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     partial(lm, data = iris))clean_lm_iris(Sepal.Length ~ Sepal.Width)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28">



  <meta property="og:image" content="https://pbs.twimg.com/profile_banners/84618490/1545734426/1500x500">



  <meta name="twitter:site" content="@_ColinFay">
  <meta name="twitter:title" content="A Crazy Little Thing Called {purrr} - Part 5: code optimization">
  <meta name="twitter:description" content="This might not be the last time I make this Queen reference.There’s a general saying in programming that you should try to write asless code as possible. Spoiler: this is not because developers are lazy.On the contrary, concise code takes a lot of time to write. But it cansave a massive amount of time on the long run, as it creates fewer bugs,and make the code easier to maintain.As you know, I love {purrr}. Most tutorials on the web focus on theiteration part (don’t make me say what I didn’t say: the iteration toolsare incredibly poweful), yet forgetting the “programming” part of{purrr} would make you miss a lot of cool features from this package. Ihope my series of posts has convince you to dive into this “programmingwith {purrr}” world :)So, today, we’re gonna have a look at what you can do with {purrr} towrite more efficient R.Repeat after me: don’t repeat yourselfIt has been said countless time: if you copy and paste a piece of codemore than two times, you need a function. Well, I know, it’s not alwaysthat easy to find the perfect function and RStudio makes it so easy tojust copy down the line you’ve just typed. But everytime you wish to dothat, remember that this is just “adding more fuel to the bug fire”.(Ok, that might not be important if you’re just randomly trying stuffs,but let’s stay focused and imagine we’re responsable adults buildingpackages, or doing reproducible research…)Functions returning functionsR is an amazingly flexible language. Everything that exists in R is anobject, and everything that happens is due to a function. So yes,functions are objects that can turn objects into other objects.And if a function can take objects and return an object, there’s noreason these objects can’t be functions. That’s exactly what safely(seen in the first part of this series) and friends do. But today I’mhere to talk about some other functions, compose and partial.Composelibrary(tidyverse)library(broom)Have you ever been in a situation when you wrote this kind ofcode?lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Pepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Width ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% ilter(p.value &lt; 0.05)Yes, we’ve all done that. The thing is, with this kind of code, our eyesare focused on what stays the same, instead of focusing of what’schanging. And, most of all, there’s a high probability you didn’tnoticed I made a typo on line 2 (example inspired byhttp://r4ds.had.co.nz/iteration.html).And there’s also one on line 4.So here comes compose(). This function takes as arguments a series offunctions, and returns a function that will perform the series offunction successively. So here, we can turn :tidy(lm(Sepal.Length ~ Species, data = iris))intotidy_lm &lt;- compose(tidy, lm)tidy_lm(Sepal.Length ~ Species, data = iris)##                term estimate  std.error statistic       p.value## 1       (Intercept)    5.006 0.07280222 68.761639 1.134286e-113## 2 Speciesversicolor    0.930 0.10295789  9.032819  8.770194e-16## 3  Speciesvirginica    1.582 0.10295789 15.365506  2.214821e-32So yes, this is a small improvement you could say. But the thing is, onthis kind of code :tidy_fancy_calculus &lt;- compose(tidy, lm)tidy_fancy_calculus(Sepal.Length ~ Species, data = iris)tidy_fancy_calculus(Petal.Length ~ Species, data = iris)tidy_fancy_calculus(Sepal.Width ~ Species, data = iris)tidy_fancy_calculus(Petal.Width ~ Species, data = iris)I’ll just have to make a change at one spot if I need to use anotherlm-like function.*Note that the order of the function is not the a magrittr order, but a“classic” order, i.e. functions passed to compose are executed fromright to left. *And of course, you can always pass mappers in a compose :clean_lm &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     lm)clean_lm(Sepal.Length ~ Sepal.Width, data = iris)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28# and etc#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)For now formulas are not accepted as such (you need to callas_mapper), but you now, this is just a PR away ;)Less code, more rokk(Guitar Hero 2 reference)So now, we need even less code. Yes, that’s possible, thanks topartial. As its name states, this function returns a partially filledfunction. That is to say that :mean_na_rm &lt;- partial(mean, na.rm = TRUE)mean_na_rm(airquality$Ozone)## [1] 42.12931is the same as:mean(airquality$Ozone, na.rm = TRUE)## [1] 42.12931Ok, that’s not that usefull on that example, but you get the idea :)Let’s wrap upTo sum up, we need a function that will do a lm on iris, broom::tidy theresult, filter the p.value, and arrange following the p.value column.So, here it is!clean_lm_iris &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     partial(lm, data = iris))clean_lm_iris(Sepal.Length ~ Sepal.Width)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28">
  <meta name="twitter:url" content="http://localhost:4000/purrr-code-optim/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://pbs.twimg.com/profile_banners/84618490/1545734426/1500x500">
    
  

  



  <meta property="article:published_time" content="2017-12-20T00:00:00+01:00">





  

  


<link rel="canonical" href="http://localhost:4000/purrr-code-optim/">





  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000",
      "logo": "https://pbs.twimg.com/profile_banners/84618490/1545734426/1500x500"
    }
  </script>



  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Colin Fay",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Colin Fay Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/concrete.css">
<link rel="stylesheet" href="/assets/css/normalize.css">
<link rel="stylesheet" href="/assets/css/github.css">

<script type="text/javascript" src=" "></script>

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="http://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="https://avatars1.githubusercontent.com/u/17936236?v=3&s=460" alt="Colin FAY" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Colin FAY</h3>
    
    
      <p class="author__bio" itemprop="description">
        Data Scientist & R Hacker at <a href='https://thinkr.fr/'><u>ThinkR</u></a>. Founder of <a href = 'https://data-bzh.fr'><u>Data Bzh</u></a> and cofounder of the <a href = 'http://breizhdataclub.org/'><u>Breizh Data Club</u></a>. Part of the <a href='http://www.rweekly.org'><u>RWeekly</u></a> Team.
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse"><i class = 'fas fa-bars'></i></button>
    <ul class="author__urls social-icons">
      <p><b>Navigation:</b></p>
      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->

<li>
  <a href="/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> Home
  </a>
</li>
<li>
  <a href="/categories/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> Blog
  </a>
</li>
<li>
  <a href="/about/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> About
  </a>
</li>
<li>
  <a href="/talks-publications/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> Talks & Publications
  </a>
</li>
<li>
  <a href="/open-source/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> Open Source
  </a>
</li>
<li>
  <a href="/search/">
    <i class="fa fa-arrow-right" aria-hidden="true"></i> Search
  </a>
</li>
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="A Crazy Little Thing Called {purrr} - Part 5: code optimization">
    <meta itemprop="description" content="This might not be the last time I make this Queen reference.There’s a general saying in programming that you should try to write asless code as possible. Spoiler: this is not because developers are lazy.On the contrary, concise code takes a lot of time to write. But it cansave a massive amount of time on the long run, as it creates fewer bugs,and make the code easier to maintain.As you know, I love {purrr}. Most tutorials on the web focus on theiteration part (don’t make me say what I didn’t say: the iteration toolsare incredibly poweful), yet forgetting the “programming” part of{purrr} would make you miss a lot of cool features from this package. Ihope my series of posts has convince you to dive into this “programmingwith {purrr}” world :)So, today, we’re gonna have a look at what you can do with {purrr} towrite more efficient R.Repeat after me: don’t repeat yourselfIt has been said countless time: if you copy and paste a piece of codemore than two times, you need a function. Well, I know, it’s not alwaysthat easy to find the perfect function and RStudio makes it so easy tojust copy down the line you’ve just typed. But everytime you wish to dothat, remember that this is just “adding more fuel to the bug fire”.(Ok, that might not be important if you’re just randomly trying stuffs,but let’s stay focused and imagine we’re responsable adults buildingpackages, or doing reproducible research…)Functions returning functionsR is an amazingly flexible language. Everything that exists in R is anobject, and everything that happens is due to a function. So yes,functions are objects that can turn objects into other objects.And if a function can take objects and return an object, there’s noreason these objects can’t be functions. That’s exactly what safely(seen in the first part of this series) and friends do. But today I’mhere to talk about some other functions, compose and partial.Composelibrary(tidyverse)library(broom)Have you ever been in a situation when you wrote this kind ofcode?lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Pepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Width ~ Species, data = iris) %&gt;% tidy() %&gt;% filter(p.value &lt; 0.05)lm(Sepal.Length ~ Species, data = iris) %&gt;% tidy() %&gt;% ilter(p.value &lt; 0.05)Yes, we’ve all done that. The thing is, with this kind of code, our eyesare focused on what stays the same, instead of focusing of what’schanging. And, most of all, there’s a high probability you didn’tnoticed I made a typo on line 2 (example inspired byhttp://r4ds.had.co.nz/iteration.html).And there’s also one on line 4.So here comes compose(). This function takes as arguments a series offunctions, and returns a function that will perform the series offunction successively. So here, we can turn :tidy(lm(Sepal.Length ~ Species, data = iris))intotidy_lm &lt;- compose(tidy, lm)tidy_lm(Sepal.Length ~ Species, data = iris)##                term estimate  std.error statistic       p.value## 1       (Intercept)    5.006 0.07280222 68.761639 1.134286e-113## 2 Speciesversicolor    0.930 0.10295789  9.032819  8.770194e-16## 3  Speciesvirginica    1.582 0.10295789 15.365506  2.214821e-32So yes, this is a small improvement you could say. But the thing is, onthis kind of code :tidy_fancy_calculus &lt;- compose(tidy, lm)tidy_fancy_calculus(Sepal.Length ~ Species, data = iris)tidy_fancy_calculus(Petal.Length ~ Species, data = iris)tidy_fancy_calculus(Sepal.Width ~ Species, data = iris)tidy_fancy_calculus(Petal.Width ~ Species, data = iris)I’ll just have to make a change at one spot if I need to use anotherlm-like function.*Note that the order of the function is not the a magrittr order, but a“classic” order, i.e. functions passed to compose are executed fromright to left. *And of course, you can always pass mappers in a compose :clean_lm &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     lm)clean_lm(Sepal.Length ~ Sepal.Width, data = iris)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28# and etc#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)For now formulas are not accepted as such (you need to callas_mapper), but you now, this is just a PR away ;)Less code, more rokk(Guitar Hero 2 reference)So now, we need even less code. Yes, that’s possible, thanks topartial. As its name states, this function returns a partially filledfunction. That is to say that :mean_na_rm &lt;- partial(mean, na.rm = TRUE)mean_na_rm(airquality$Ozone)## [1] 42.12931is the same as:mean(airquality$Ozone, na.rm = TRUE)## [1] 42.12931Ok, that’s not that usefull on that example, but you get the idea :)Let’s wrap upTo sum up, we need a function that will do a lm on iris, broom::tidy theresult, filter the p.value, and arrange following the p.value column.So, here it is!clean_lm_iris &lt;- compose(as_mapper(~ arrange(.x, desc(p.value))),                     as_mapper(~ filter(.x, p.value &lt; 0.05)),                    tidy,                     partial(lm, data = iris))clean_lm_iris(Sepal.Length ~ Sepal.Width)##          term estimate std.error statistic      p.value## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28">
    <meta itemprop="datePublished" content="December 20, 2017">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">A Crazy Little Thing Called {purrr} - Part 5: code optimization
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute(s) read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>This might not be the last time I make this Queen reference.</p>

<p>There’s a general saying in programming that you should try to write as
less code as possible. Spoiler: this is not because developers are lazy.
On the contrary, concise code takes a lot of time to write. But it can
save a massive amount of time on the long run, as it creates fewer bugs,
and make the code easier to maintain.</p>

<p>As you know, I love {purrr}. Most tutorials on the web focus on the
iteration part (don’t make me say what I didn’t say: the iteration tools
are incredibly poweful), yet forgetting the “programming” part of
{purrr} would make you miss a lot of cool features from this package. I
hope my series of posts has convince you to dive into this “programming
with {purrr}” world :)</p>

<p>So, today, we’re gonna have a look at what you can do with {purrr} to
write more efficient R.</p>

<h2 id="repeat-after-me-dont-repeat-yourself">Repeat after me: don’t repeat yourself</h2>

<p>It has been said countless time: if you copy and paste a piece of code
more than two times, you need a function. Well, I know, it’s not always
that easy to find the perfect function and RStudio makes it so easy to
just copy down the line you’ve just typed. But everytime you wish to do
that, remember that this is just “adding more fuel to the bug fire”.</p>

<p>(Ok, that might not be important if you’re just randomly trying stuffs,
but let’s stay focused and imagine we’re responsable adults building
packages, or doing reproducible research…)</p>

<h2 id="functions-returning-functions">Functions returning functions</h2>

<p>R is an amazingly flexible language. Everything that exists in R is an
object, and everything that happens is due to a function. So yes,
functions are objects that can turn objects into other objects.</p>

<p>And if a function can take objects and return an object, there’s no
reason these objects can’t be functions. That’s exactly what <code class="highlighter-rouge">safely</code>
(seen in the first part of this series) and friends do. But today I’m
here to talk about some other functions, <code class="highlighter-rouge">compose</code> and <code class="highlighter-rouge">partial</code>.</p>

<h3 id="compose">Compose</h3>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">broom</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Have you ever been in a situation when you wrote this kind of
code?</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lm</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">tidy</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)</span><span class="w">
</span><span class="n">lm</span><span class="p">(</span><span class="n">Pepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">tidy</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)</span><span class="w">
</span><span class="n">lm</span><span class="p">(</span><span class="n">Sepal.Width</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">tidy</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)</span><span class="w">
</span><span class="n">lm</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">tidy</span><span class="p">()</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">ilter</span><span class="p">(</span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>Yes, we’ve all done that. The thing is, with this kind of code, our eyes
are focused on what stays the same, instead of focusing of what’s
changing. And, most of all, there’s a high probability you didn’t
noticed I made a typo on line 2 (example inspired by
<a href="http://r4ds.had.co.nz/iteration.html">http://r4ds.had.co.nz/iteration.html</a>).</p>

<p>And there’s also one on line 4.</p>

<p>So here comes <code class="highlighter-rouge">compose()</code>. This function takes as arguments a series of
functions, and returns a function that will perform the series of
function successively. So here, we can turn :</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tidy</span><span class="p">(</span><span class="n">lm</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>into</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tidy_lm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">compose</span><span class="p">(</span><span class="n">tidy</span><span class="p">,</span><span class="w"> </span><span class="n">lm</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_lm</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##                term estimate  std.error statistic       p.value
## 1       (Intercept)    5.006 0.07280222 68.761639 1.134286e-113
## 2 Speciesversicolor    0.930 0.10295789  9.032819  8.770194e-16
## 3  Speciesvirginica    1.582 0.10295789 15.365506  2.214821e-32
</code></pre></div></div>

<p>So yes, this is a small improvement you could say. But the thing is, on
this kind of code :</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tidy_fancy_calculus</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">compose</span><span class="p">(</span><span class="n">tidy</span><span class="p">,</span><span class="w"> </span><span class="n">lm</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_fancy_calculus</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_fancy_calculus</span><span class="p">(</span><span class="n">Petal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_fancy_calculus</span><span class="p">(</span><span class="n">Sepal.Width</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span><span class="n">tidy_fancy_calculus</span><span class="p">(</span><span class="n">Petal.Width</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>I’ll just have to make a change at one spot if I need to use another
<code class="highlighter-rouge">lm</code>-like function.</p>

<p>*Note that the order of the function is not the a magrittr order, but a
“classic” order, i.e. functions passed to <code class="highlighter-rouge">compose</code> are executed from
right to left. *</p>

<p>And of course, you can always pass mappers in a <code class="highlighter-rouge">compose</code> :</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clean_lm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">compose</span><span class="p">(</span><span class="n">as_mapper</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">.x</span><span class="p">,</span><span class="w"> </span><span class="n">desc</span><span class="p">(</span><span class="n">p.value</span><span class="p">))),</span><span class="w"> 
                    </span><span class="n">as_mapper</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">.x</span><span class="p">,</span><span class="w"> </span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)),</span><span class="w">
                    </span><span class="n">tidy</span><span class="p">,</span><span class="w"> 
                    </span><span class="n">lm</span><span class="p">)</span><span class="w">
</span><span class="n">clean_lm</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Sepal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##          term estimate std.error statistic      p.value
## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># and etc</span><span class="w">
</span><span class="c1">#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)</span><span class="w">
</span><span class="c1">#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)</span><span class="w">
</span><span class="c1">#clean_lm(Sepal.Length ~ Sepal.Width, data = iris)</span><span class="w">
</span></code></pre></div></div>

<p>For now formulas are not accepted as such (you need to call
<code class="highlighter-rouge">as_mapper</code>), but you now, this is just a PR away ;)</p>

<h3 id="less-code-more-rokk">Less code, more rokk</h3>

<p><a href="https://www.youtube.com/watch?v=q2eBtnxA8SA">(Guitar Hero 2 reference)</a></p>

<p>So now, we need even less code. Yes, that’s possible, thanks to
<code class="highlighter-rouge">partial</code>. As its name states, this function returns a partially filled
function. That is to say that :</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mean_na_rm</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">partial</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">mean_na_rm</span><span class="p">(</span><span class="n">airquality</span><span class="o">$</span><span class="n">Ozone</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 42.12931
</code></pre></div></div>

<p>is the same as:</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mean</span><span class="p">(</span><span class="n">airquality</span><span class="o">$</span><span class="n">Ozone</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## [1] 42.12931
</code></pre></div></div>

<p>Ok, that’s not that usefull on that example, but you get the idea :)</p>

<h3 id="lets-wrap-up">Let’s wrap up</h3>

<p>To sum up, we need a function that will do a lm on iris, broom::tidy the
result, filter the p.value, and arrange following the p.value column.
So, here it is!</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">clean_lm_iris</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">compose</span><span class="p">(</span><span class="n">as_mapper</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">.x</span><span class="p">,</span><span class="w"> </span><span class="n">desc</span><span class="p">(</span><span class="n">p.value</span><span class="p">))),</span><span class="w"> 
                    </span><span class="n">as_mapper</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">.x</span><span class="p">,</span><span class="w"> </span><span class="n">p.value</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">0.05</span><span class="p">)),</span><span class="w">
                    </span><span class="n">tidy</span><span class="p">,</span><span class="w"> 
                    </span><span class="n">partial</span><span class="p">(</span><span class="n">lm</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">))</span><span class="w">

</span><span class="n">clean_lm_iris</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Sepal.Width</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##          term estimate std.error statistic      p.value
## 1 (Intercept) 6.526223 0.4788963  13.62763 6.469702e-28
</code></pre></div></div>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#purrr" class="page__taxonomy-item" rel="tag">purrr</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#r-blog-en" class="page__taxonomy-item" rel="tag">r-blog-en</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2017-12-20T00:00:00+01:00">December 20, 2017</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=_ColinFay&text=A+Crazy+Little+Thing+Called+%7Bpurrr%7D+-+Part+5%3A+code+optimization%20http%3A%2F%2Flocalhost%3A4000%2Fpurrr-code-optim%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fpurrr-code-optim%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A4000%2Fpurrr-code-optim%2F" class="btn btn--google-plus" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Google Plus"><i class="fab fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fpurrr-code-optim%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/purrr-mappers/" class="pagination--pager" title="A Crazy Little Thing Called {purrr} - Part 4: mappers
">←</a>
    
    
      <a href="/purrr-statistics/" class="pagination--pager" title="A Crazy Little Thing Called {purrr} - Part 6 : doing statistics
">→</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">The machine thinks you might also like:</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <li class="archive__item-title" itemprop="headline">
      <span>
        
        <a href="/js-const-r/" rel="permalink">JavaScript const in R
</a>
      
      </span>
      <span class="page__meta" >
        
      —  <i>2019-09-23</i>
    
      </span>
    </li>
    
    <!--<p class="archive__item-excerpt" itemprop="description">One thing I like about JavaScript is the const declaration method,
which allows you to declare a variable one time, and that variable can’t
be reassigned aft...</p>-->
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <li class="archive__item-title" itemprop="headline">
      <span>
        
        <a href="/one-week-shiny-google-search/" rel="permalink">One week as a Shiny dev, seen through Google search
</a>
      
      </span>
      <span class="page__meta" >
        
      —  <i>2019-09-08</i>
    
      </span>
    </li>
    
    <!--<p class="archive__item-excerpt" itemprop="description">Some days ago I read an article on dev.to, entitled
something like “Googling as a Software Engineer”
link
which links to this
blogpost
from Sophie Koonin. An...</p>-->
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <li class="archive__item-title" itemprop="headline">
      <span>
        
        <a href="/playing-with-dolt-one/" rel="permalink">Playing with dolt - Part One
</a>
      
      </span>
      <span class="page__meta" >
        
      —  <i>2019-08-17</i>
    
      </span>
    </li>
    
    <!--<p class="archive__item-excerpt" itemprop="description">A few weeks back, I subscribed to become a beta tester for dolt, the
“Git for data”. This post is the first of a series of posts
exploring this tool.

What i...</p>-->
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
    <li class="archive__item-title" itemprop="headline">
      <span>
        
        <a href="/back-from-toulouse/" rel="permalink">Back from useR! 2019
</a>
      
      </span>
      <span class="page__meta" >
        
      —  <i>2019-07-14</i>
    
      </span>
    </li>
    
    <!--<p class="archive__item-excerpt" itemprop="description">I’m back from useR! 2019!, Toulouse, where I gave one talk and a
workshop. Here are the links to the materials.

2019-07-08

Contributing to the R ecosystem
...</p>-->
  </article>
</div>
        
      </div>
    </div>
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Get social:</strong></li>
    
    
      <li><a href="https://twitter.com/_ColinFay"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="https://github.com/ColinFay"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    
      <li><a href="https://www.linkedin.com/in/colinfay"><i class="fab fa-fw fa-linkedin-in" aria-hidden="true"></i> LinkedIn</a></li>
    
     
        <li>
          <a href="mailto:">
            <meta itemprop="email" content="" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email
          </a>
        </li>
      
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Colin Fay. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a>, built on top of the <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a> jekyll theme. </div>

<div class="page__footer-copyright">All blog posts are aggregated to <a href = "https://www.r-bloggers.com/">R-bloggers</a> and <a href="http://www.rweekly.org">RWeekly</a>.</div>

<div class="page__footer-copyright">All written content on this blog is released under the <a href = "https://creativecommons.org/licenses/by-nc-sa/4.0//">CC BY-NC-SA 4.0</a> license, with the exception of code which is released under the <a href="https://opensource.org/licenses/mit-license.php">MIT</a> license</div>.

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">







    
  <script>
    var disqus_config = function () {
      this.page.url = "http://localhost:4000/purrr-code-optim/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/purrr-code"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://http-colinfay-me.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  



  </body>
</html>